<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="../stylesheet.css">

    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="../script.js"></script>
    <title>C++ - File Operations</title>
</head>
<body>
    <div id="background" style="padding-top: 200px; padding-left:200px;"><img src="c++-logo.png" /></div>
    <div id="textBackground"></div>
    <div id="container">
        <div class="content-div">
            <h1 style="text-align:center;">Sortable Vector</h1>
            <p>
                This program is intended to read a text file from disk, place the objects into a struct, and place the structs into a template SortableVector class which is a linked list implementation
                with sorting and min/max functionality. This implementation reads a file 'books.txt' from disk and parses the file while creating a struct, 'Book', object. The text file must be written in
                a specific format where the price of the book is first, followed by the book title.
            </p>
            <div class="codeBoxN">
                <pre>
25.95 The Devil in the White City
17.99 Harry Potter and the Order of the Phoenix
14.97 The Da Vinci Code 
15.37 Positively Fifth Street 
 8.40 The Secret Life of Bees
 9.99 What Every Successful Sales Professional Needs to Know
18.17 Shutter Island
17.47 Google Hacks 
15.57 Lost Light 
11.20 Life of Pi
13.17 The Lovely Bones
18.20 The Second Time Around
</pre><div class="caption">Here we see an example 'books.txt' which must be formatted with price followed by title.</div>
            </div>
            <div class="smallSpace"></div>
            <p>
                The program begins with parsing the text file and building the 'Book' struct that will represent each book within the file. The struct will store the book price, book title, 
                a 'CompareTo' method, and a 'ToString' method. Once the book object has been created by parsing a line from the file, the Book is added to the SortableVector object.
                The 'CompareTo' method is implemented to allow the SortableVector to sort the book objects, the method returns a '1' if less, '0' if equal, and '-1' if greater; the comparison
                is made on the book price. The 'ToString' method allows the SortableVector to print the list via calling this method on each Book struct.
            </p>
            <div class="codeBoxN">
                <pre>
<span class="sc2">//struct for book object
</span><span class="sc16">struct</span><span class="sc0"> </span><span class="sc11">Book</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc11">string</span><span class="sc0">  </span><span class="sc11">title</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc16">float</span><span class="sc0">   </span><span class="sc11">bookprice</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">CompareTo</span><span class="sc10">(</span><span class="sc11">Book</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">otherBook</span><span class="sc10">)</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">bookprice</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc11">otherBook</span><span class="sc10">-&gt;</span><span class="sc11">bookprice</span><span class="sc10">)</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">bookprice</span><span class="sc0"> </span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">otherBook</span><span class="sc10">-&gt;</span><span class="sc11">bookprice</span><span class="sc10">)</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc4">1</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc5">else</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
        
    </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">ToString</span><span class="sc10">()</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">   
        </span><span class="sc11">ostringstream</span><span class="sc0"> </span><span class="sc11">ostream</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">ostream</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc11">bookprice</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">" "</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc11">title</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc7">'\n'</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">result</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">ostream</span><span class="sc10">.</span><span class="sc11">str</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">result</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">       
</span><span class="sc10">};</span><span class="sc0">
</span><span class="sc2">//pointer for books
</span><span class="sc5">typedef</span><span class="sc0"> </span><span class="sc11">Book</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">bookPtr</span><span class="sc10">;</span><span class="sc0">
</span>
</pre>
            </div>
            <p>
                The SortableVector class is able to sort the list in either ascending or descending, along with the ability to return the minimum price or the maximum priced book within the text file.
                The ordering of the objects is produced by calling the 'CompareTo' method of the object, which implies that any object intending to be stored within a SortableVector will have
                to implement this method. The sorting is done by traversing the linked list and performing a bubble sort on the list, while the min/max is done by assigning the head node as the 
                initial value and comparing against each element within the list.
            </p>
            <div class="codeBoxN">
                <pre>
<span class="sc16">template</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">T</span><span class="sc10">&gt;</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SortableVector</span><span class="sc10">&lt;</span><span class="sc11">T</span><span class="sc10">&gt;::</span><span class="sc11">sortVectorAscending</span><span class="sc10">()</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc11">Node</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">ptr</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">head</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">Node</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">tmp</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Node</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc5">while</span><span class="sc10">(</span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">next</span><span class="sc0"> </span><span class="sc10">!=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">)</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc10">-&gt;</span><span class="sc11">CompareTo</span><span class="sc10">(</span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">next</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc4">1</span><span class="sc10">)</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">tmp</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">next</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">next</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">tmp</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">sortVectorAscending</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc5">else</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">ptr</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">next</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">
</span><span class="sc16">template</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">T</span><span class="sc10">&gt;</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SortableVector</span><span class="sc10">&lt;</span><span class="sc11">T</span><span class="sc10">&gt;::</span><span class="sc11">sortVectorDescending</span><span class="sc10">()</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc11">Node</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">ptr</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">head</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">Node</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">tmp</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Node</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc5">while</span><span class="sc10">(</span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">next</span><span class="sc0"> </span><span class="sc10">!=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">)</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc10">-&gt;</span><span class="sc11">CompareTo</span><span class="sc10">(</span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">next</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">)</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">tmp</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">next</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">next</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">tmp</span><span class="sc10">-&gt;</span><span class="sc11">data</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">sortVectorDescending</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc5">else</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">ptr</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">ptr</span><span class="sc10">-&gt;</span><span class="sc11">next</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
</span><span class="sc10">}</span>
</pre><div class="caption">Here we see the methods to sort the linked list.</div>
            </div>
            <div class="space"></div>

            <p style="text-align:center;"><a href="https://github.com/dusanders/dusanders.github.io/tree/master/CPP/Source/Sortable/books.txt" target="_blank">Download books.txt</a></p>
            <p style="text-align:center;"><a href="https://github.com/dusanders/dusanders.github.io/tree/master/CPP/Source/Sortable/SortableVector.cpp" target="_blank">Download SortableVector.cpp</a></p>
            <p style="text-align:center;"><a href="https://github.com/dusanders/dusanders.github.io/tree/master/CPP/Source/Sortable/SortableVector.h" target="_blank">Download SortableVector.h</a></p>
            <p style="text-align:center;">	<a href="https://github.com/dusanders/dusanders.github.io/tree/master/CPP/Source/Sortable/" target="_blank">View Source Folder</a></p>            <div id="footer">
                <div id="copyright">
                    <p>Copyright &copy; 2015 Dustin Anderson</p>
                </div>
                <div id="aboutButton">
                    <p><a href="../index.html">About</a></p>
                </div>
            </div>
        </div>
        <div id="sideBar">
            <ul id="sideBarList">
                <p style="text-align:center; text-decoration:underline;">Snippets</p>
                <li class="sideBarItem" style="color: #006600; cursor:default;">Sortable Vector</li>
                <li class="sideBarItem"><a href="Duplicate.html">Duplicate Nodes</a></li>
            </ul>
        </div>
        <div id="menuBar">
            <ul id="menuList">
                <li class="menuItem" style="color: #80CC80;">C++</li>
                <li class="menuItem"><a href="../CSHARP/CSharp.html">C#</a></li>
                <li class="menuItem"><a href="../JAVA/Java.html">Java</a></li>
                <li class="menuItem"><a href="../ASM/ASM.html">Embedded Systems</a></li>
                <li class="menuItem"><a href="../ANDROID/AndroidHome.html">Android</a></li>
            </ul>
        </div>
    </div><!--end container-->
</body>
</html>