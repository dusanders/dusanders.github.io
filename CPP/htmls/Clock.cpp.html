<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<title>/home/pi/QtProjects/qtCar/Car/Clock.cpp</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<meta name="generator" content="Geany 1.22" />
	<meta name="date" content="2015-05-28T19:32:57-0500" />
	<style type="text/css">
	body
	{
		font-family: Monospace, monospace;
		font-size: 10pt;
	}
	.style_0
	{
		color: #000000;
		background-color: #ffffff;
	}
	.style_4
	{
		color: #007f00;
		background-color: #ffffff;
	}
	.style_5
	{
		color: #00007f;
		background-color: #ffffff;
		font-weight: bold;
	}
	.style_6
	{
		color: #ff8000;
		background-color: #ffffff;
	}
	.style_9
	{
		color: #007f7f;
		background-color: #ffffff;
	}
	.style_10
	{
		color: #301010;
		background-color: #ffffff;
	}
	.style_11
	{
		color: #000000;
		background-color: #ffffff;
	}

	</style>
</head>

<body>
<p>
<span class="style_9">#include&nbsp;</span><span class="style_6">"QTimer"</span><br />
<span class="style_9">#include&nbsp;</span><span class="style_6">"QLabel"</span><br />
<span class="style_9">#include&nbsp;</span><span class="style_6">"Clock.h"</span><br />
<span class="style_9">#include&nbsp;</span><span class="style_6">"QTime"</span><br />
<span class="style_9">#include&nbsp;</span><span class="style_6">"QThread"</span><br />
<br />
<span class="style_11">Clock</span><span class="style_10">::</span><span class="style_11">Clock</span><span class="style_10">(</span><span class="style_11">QLabel&nbsp;</span><span class="style_10">*</span><span class="style_11">displayLabel</span><span class="style_10">)</span><br />
<span class="style_10">{</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="style_11">label&nbsp;</span><span class="style_10">=&nbsp;</span><span class="style_11">displayLabel</span><span class="style_10">;</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="style_11">timer&nbsp;</span><span class="style_10">=&nbsp;</span><span class="style_5">new&nbsp;</span><span class="style_11">QTimer</span><span class="style_10">();</span><br />
<span class="style_10">}</span><br />
<span class="style_11">Clock</span><span class="style_10">::~</span><span class="style_11">Clock</span><span class="style_10">()</span><br />
<span class="style_10">{</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="style_11">timer</span><span class="style_10">-&gt;</span><span class="style_11">stop</span><span class="style_10">();</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="style_11">label</span><span class="style_10">-&gt;~</span><span class="style_11">QLabel</span><span class="style_10">();</span><br />
<span class="style_10">}</span><br />
<span class="style_5">void&nbsp;</span><span class="style_11">Clock</span><span class="style_10">::</span><span class="style_11">updateTime</span><span class="style_10">()</span><br />
<span class="style_10">{</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="style_11">label</span><span class="style_10">-&gt;</span><span class="style_11">setText</span><span class="style_10">(</span><span class="style_11">QTime</span><span class="style_10">::</span><span class="style_11">currentTime</span><span class="style_10">().</span><span class="style_11">toString</span><span class="style_10">(</span><span class="style_6">"h:mm&nbsp;AP"</span><span class="style_10">));</span><br />
<span class="style_10">}</span><br />
<span class="style_5">void&nbsp;</span><span class="style_11">Clock</span><span class="style_10">::</span><span class="style_11">run</span><span class="style_10">()</span><br />
<span class="style_10">{</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="style_11">timer</span><span class="style_10">-&gt;</span><span class="style_11">setInterval</span><span class="style_10">(</span><span class="style_4">1000</span><span class="style_10">);</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="style_11">QObject</span><span class="style_10">::</span><span class="style_11">connect</span><span class="style_10">(</span><span class="style_11">timer</span><span class="style_10">,&nbsp;</span><span class="style_11">SIGNAL</span><span class="style_10">(</span><span class="style_11">timeout</span><span class="style_10">()),&nbsp;</span><span class="style_5">this</span><span class="style_10">,&nbsp;</span><span class="style_11">SLOT</span><span class="style_10">(</span><span class="style_11">updateTime</span><span class="style_10">()));</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="style_11">timer</span><span class="style_10">-&gt;</span><span class="style_11">start</span><span class="style_10">();</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="style_11">updateTime</span><span class="style_10">();</span><br />
<span class="style_10">}</span><br />
<span class="style_5">int&nbsp;</span><span class="style_11">Clock</span><span class="style_10">::</span><span class="style_11">getSeed</span><span class="style_10">()</span><br />
<span class="style_10">{</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="style_5">return&nbsp;</span><span class="style_11">QTime</span><span class="style_10">::</span><span class="style_11">currentTime</span><span class="style_10">().</span><span class="style_11">msec</span><span class="style_10">();</span><br />
<span class="style_10">}</span><br />
<br />
<br />
<br />

</p>
</body>
</html>
