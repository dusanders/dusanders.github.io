<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
<html>
<head>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<title>Exported from Notepad++</title>
<style type="text/css">
span {
	font-family: 'Courier New';
	font-size: 10pt;
	color: #000000;
}
.sc0 {
}
.sc1 {
	color: #008000;
}
.sc2 {
	color: #008000;
}
.sc4 {
	color: #FF8000;
}
.sc5 {
	font-weight: bold;
	color: #0000FF;
}
.sc6 {
	color: #808080;
}
.sc10 {
	font-weight: bold;
	color: #000080;
}
.sc11 {
}
.sc16 {
	color: #8000FF;
}
</style>
</head>
<body>
<div style="float: left; white-space: pre; line-height: 1; background: #FFFFFF; "><span class="sc1">/*      Dustin Anderson
*       Serial Communication Application
*       This is the main activity class. This must be launched first.
*/</span><span class="sc0">

</span><span class="sc5">import</span><span class="sc0"> </span><span class="sc11">java</span><span class="sc10">.</span><span class="sc11">util</span><span class="sc10">.</span><span class="sc11">ArrayList</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc5">import</span><span class="sc0"> </span><span class="sc11">java</span><span class="sc10">.</span><span class="sc11">util</span><span class="sc10">.</span><span class="sc11">Enumeration</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc5">import</span><span class="sc0"> </span><span class="sc11">gnu</span><span class="sc10">.</span><span class="sc11">io</span><span class="sc10">.*;</span><span class="sc0">


</span><span class="sc16">public</span><span class="sc0"> </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">JavaMsp</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc16">static</span><span class="sc0"> </span><span class="sc11">ArrayList</span><span class="sc10">&lt;</span><span class="sc11">MspPort</span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">MSP_port_list</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">ArrayList</span><span class="sc10">&lt;</span><span class="sc11">MspPort</span><span class="sc10">&gt;();</span><span class="sc0">
    
    </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc16">static</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">main</span><span class="sc10">(</span><span class="sc11">String</span><span class="sc10">[]</span><span class="sc0"> </span><span class="sc11">args</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc2">//open Enumeration for ports
</span><span class="sc0">        </span><span class="sc11">Enumeration</span><span class="sc10">&lt;?&gt;</span><span class="sc0"> </span><span class="sc11">port_list</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">CommPortIdentifier</span><span class="sc10">.</span><span class="sc11">getPortIdentifiers</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc2">//while we have a list
</span><span class="sc0">        </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">port_list</span><span class="sc10">.</span><span class="sc11">hasMoreElements</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc2">//get the element
</span><span class="sc0">            </span><span class="sc11">CommPortIdentifier</span><span class="sc0"> </span><span class="sc11">port_id</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">CommPortIdentifier</span><span class="sc10">)</span><span class="sc11">port_list</span><span class="sc10">.</span><span class="sc11">nextElement</span><span class="sc10">();</span><span class="sc0">
            </span><span class="sc2">//got a serial? add it to the list!
</span><span class="sc0">            </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">port_id</span><span class="sc10">.</span><span class="sc11">getPortType</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc11">CommPortIdentifier</span><span class="sc10">.</span><span class="sc11">PORT_SERIAL</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">MspPort</span><span class="sc0"> </span><span class="sc11">found_port</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">MspPort</span><span class="sc10">(</span><span class="sc11">port_id</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">MSP_port_list</span><span class="sc10">.</span><span class="sc11">add</span><span class="sc10">(</span><span class="sc11">found_port</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc2">//end while (port_list.hasmoreelemtns
</span><span class="sc0">        
        </span><span class="sc5">for</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc10">=</span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc11">MSP_port_list</span><span class="sc10">.</span><span class="sc11">size</span><span class="sc10">();</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc10">++)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">System</span><span class="sc10">.</span><span class="sc11">out</span><span class="sc10">.</span><span class="sc11">println</span><span class="sc10">(</span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">" : "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc11">MSP_port_list</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc11">i</span><span class="sc10">).</span><span class="sc11">get_port_name</span><span class="sc10">());</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc2">//lauch the gui
</span><span class="sc0">        </span><span class="sc11">GUI</span><span class="sc10">.</span><span class="sc11">main</span><span class="sc10">(</span><span class="sc11">args</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc2">//end main()
</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc2">//end JavaMsp
</span><span class="sc0">

</span></div></body>
</html>
