<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="../stylesheet.css">

    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="../script.js"></script>
    <title>Java File Compression</title>
</head>
<body>
    <div id="background" style="padding-top: 200px; padding-left:100px;"><img src="java_logo1.png" /></div>
    <div id="textBackground"></div>
    <div id="container">
    <div class="content-div">
        <h1 style="text-align:center;">File Compression</h1>
        <div><img style="margin-left:200px;" src="FileCompress.jpg" /></div>
        <div class="space"></div>
        <p>
            This was a project I wanted to do that would give a user inteface to the file compression technique learned with my C# project. 
            I chose to re write the C# code in Java and put a JavaFX user inteferface to the program, as I had never worked with JavaFX 
            before this and wanted to learn a little of the process involved. I had worked with SWING and AWT components before with Java
            and found the FX much easier to follow and code; I used the Oracle JavaFX Scene Builder software to make the initial layout. 
        </p>
        <h2>FXML Controller</h2>
        <p>
            The JavaFX UI uses a <a href="http://docs.oracle.com/javafx/2/api/javafx/fxml/doc-files/introduction_to_fxml.html#controllers"target="_blank">Controller</a> 
        to handle events within the window that the Controller is applied to. My controller initializes the 'Browse' buttons with functionality to launch a file explorer dialog
        that allows the user to create/open a file. I also handle the click events on the 'compress' and 'decompress' buttons to call the associated methods within the 'main' class. </p>
        <div class="codeBoxN">
            <pre>
                <span class="sc11">@Override</span><span class="sc0">
    </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">initialize</span><span class="sc10">(</span><span class="sc11">URL</span><span class="sc0"> </span><span class="sc11">url</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ResourceBundle</span><span class="sc0"> </span><span class="sc11">rb</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">compressInputField</span><span class="sc10">.</span><span class="sc11">setEditable</span><span class="sc10">(</span><span class="sc5">false</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">compressInputField</span><span class="sc10">.</span><span class="sc11">setCursor</span><span class="sc10">(</span><span class="sc11">Cursor</span><span class="sc10">.</span><span class="sc11">DEFAULT</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">decompressInputField</span><span class="sc10">.</span><span class="sc11">setEditable</span><span class="sc10">(</span><span class="sc5">false</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">decompressInputField</span><span class="sc10">.</span><span class="sc11">setCursor</span><span class="sc10">(</span><span class="sc11">Cursor</span><span class="sc10">.</span><span class="sc11">DEFAULT</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">compressOutputField</span><span class="sc10">.</span><span class="sc11">setEditable</span><span class="sc10">(</span><span class="sc5">false</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">compressOutputField</span><span class="sc10">.</span><span class="sc11">setCursor</span><span class="sc10">(</span><span class="sc11">Cursor</span><span class="sc10">.</span><span class="sc11">DEFAULT</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">decompressOutputField</span><span class="sc10">.</span><span class="sc11">setEditable</span><span class="sc10">(</span><span class="sc5">false</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">decompressOutputField</span><span class="sc10">.</span><span class="sc11">setCursor</span><span class="sc10">(</span><span class="sc11">Cursor</span><span class="sc10">.</span><span class="sc11">DEFAULT</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc2">//---------COMPRESS GUI--------------------------------------
</span><span class="sc0">        </span><span class="sc11">compressButton</span><span class="sc10">.</span><span class="sc11">setOnAction</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">EventHandler</span><span class="sc10">&lt;</span><span class="sc11">ActionEvent</span><span class="sc10">&gt;()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">@Override</span><span class="sc0">
            </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">handle</span><span class="sc10">(</span><span class="sc11">ActionEvent</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">compressInputFile</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">File</span><span class="sc10">(</span><span class="sc11">compressInputField</span><span class="sc10">.</span><span class="sc11">getText</span><span class="sc10">());</span><span class="sc0">
                </span><span class="sc11">compressOutputFile</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">File</span><span class="sc10">(</span><span class="sc11">compressOutputField</span><span class="sc10">.</span><span class="sc11">getText</span><span class="sc10">());</span><span class="sc0">
                </span><span class="sc5">if</span><span class="sc10">((</span><span class="sc11">compressInputFile</span><span class="sc10">.</span><span class="sc11">exists</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">compressOutputFile</span><span class="sc10">.</span><span class="sc11">exists</span><span class="sc10">()))</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                    </span><span class="sc11">compressButton</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Compressing..."</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">JavaFXApplication5</span><span class="sc10">.</span><span class="sc11">compress</span><span class="sc10">(</span><span class="sc11">compressInputFile</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">compressOutputFile</span><span class="sc10">)){</span><span class="sc0">
                        </span><span class="sc11">compressButton</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Complete"</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc10">}</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc10">});</span><span class="sc0">
        </span><span class="sc11">compressInputBrowse</span><span class="sc10">.</span><span class="sc11">setOnAction</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">EventHandler</span><span class="sc10">&lt;</span><span class="sc11">ActionEvent</span><span class="sc10">&gt;()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">@Override</span><span class="sc0">
            </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">handle</span><span class="sc10">(</span><span class="sc11">ActionEvent</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">FileChooser</span><span class="sc0"> </span><span class="sc11">inputBrowseWindow</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">();</span><span class="sc0">
                </span><span class="sc11">inputBrowseWindow</span><span class="sc10">.</span><span class="sc11">setTitle</span><span class="sc10">(</span><span class="sc6">"Choose Input File"</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">inputBrowseWindow</span><span class="sc10">.</span><span class="sc11">getExtensionFilters</span><span class="sc10">().</span><span class="sc11">addAll</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"TXT"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.txt"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"JAVA"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.java"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"CPP"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.cpp"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"C"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.c"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"C#"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.cs"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"HTML"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.html"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"CSS"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.css"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"JS"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.js"</span><span class="sc10">));</span><span class="sc0">
                </span><span class="sc11">compressInputFile</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">inputBrowseWindow</span><span class="sc10">.</span><span class="sc11">showOpenDialog</span><span class="sc10">(</span><span class="sc11">JavaFXApplication5</span><span class="sc10">.</span><span class="sc11">mainStage</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">compressInputFile</span><span class="sc10">.</span><span class="sc11">exists</span><span class="sc10">()){</span><span class="sc0">
                    </span><span class="sc11">compressInputField</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc11">compressInputFile</span><span class="sc10">.</span><span class="sc11">getAbsolutePath</span><span class="sc10">());</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc10">});</span><span class="sc0">
        </span><span class="sc11">compressOutputBrowse</span><span class="sc10">.</span><span class="sc11">setOnAction</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">EventHandler</span><span class="sc10">&lt;</span><span class="sc11">ActionEvent</span><span class="sc10">&gt;()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">@Override</span><span class="sc0">
            </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">handle</span><span class="sc10">(</span><span class="sc11">ActionEvent</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">FileChooser</span><span class="sc0"> </span><span class="sc11">outputBrowseWindow</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">();</span><span class="sc0">
                </span><span class="sc11">outputBrowseWindow</span><span class="sc10">.</span><span class="sc11">setTitle</span><span class="sc10">(</span><span class="sc6">"Choose Output Location"</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">outputBrowseWindow</span><span class="sc10">.</span><span class="sc11">getExtensionFilters</span><span class="sc10">().</span><span class="sc11">addAll</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"BIN"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.bin"</span><span class="sc10">));</span><span class="sc0">
                </span><span class="sc11">compressOutputFile</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">outputBrowseWindow</span><span class="sc10">.</span><span class="sc11">showSaveDialog</span><span class="sc10">(</span><span class="sc11">JavaFXApplication5</span><span class="sc10">.</span><span class="sc11">mainStage</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc5">if</span><span class="sc10">(!</span><span class="sc11">compressOutputFile</span><span class="sc10">.</span><span class="sc11">exists</span><span class="sc10">())</span><span class="sc0">
                </span><span class="sc10">{</span><span class="sc0">
                    </span><span class="sc5">try</span><span class="sc10">{</span><span class="sc0">
                        </span><span class="sc11">Files</span><span class="sc10">.</span><span class="sc11">createFile</span><span class="sc10">(</span><span class="sc11">compressOutputFile</span><span class="sc10">.</span><span class="sc11">toPath</span><span class="sc10">());</span><span class="sc0">
                    </span><span class="sc10">}</span><span class="sc5">catch</span><span class="sc10">(</span><span class="sc11">Exception</span><span class="sc0"> </span><span class="sc11">ex</span><span class="sc10">){</span><span class="sc11">ex</span><span class="sc10">.</span><span class="sc11">printStackTrace</span><span class="sc10">(</span><span class="sc11">System</span><span class="sc10">.</span><span class="sc11">err</span><span class="sc10">);}</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">
                </span><span class="sc11">compressOutputField</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc11">compressOutputFile</span><span class="sc10">.</span><span class="sc11">getAbsolutePath</span><span class="sc10">());</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc10">});</span><span class="sc0">
        </span><span class="sc2">//-------------END COMPRESS GUI----------------------------------------------
</span><span class="sc0">        </span><span class="sc2">//----------------DECOMPRESS GUI---------------------------------------------
</span><span class="sc0">        </span><span class="sc11">decompressButton</span><span class="sc10">.</span><span class="sc11">setOnAction</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">EventHandler</span><span class="sc10">&lt;</span><span class="sc11">ActionEvent</span><span class="sc10">&gt;()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">@Override</span><span class="sc0">
            </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">handle</span><span class="sc10">(</span><span class="sc11">ActionEvent</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">decompressInputFile</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">File</span><span class="sc10">(</span><span class="sc11">decompressInputField</span><span class="sc10">.</span><span class="sc11">getText</span><span class="sc10">());</span><span class="sc0">
                </span><span class="sc11">decompressOutputFile</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">File</span><span class="sc10">(</span><span class="sc11">decompressOutputField</span><span class="sc10">.</span><span class="sc11">getText</span><span class="sc10">());</span><span class="sc0">
                </span><span class="sc11">decompressButton</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Decompressing..."</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">JavaFXApplication5</span><span class="sc10">.</span><span class="sc11">decompress</span><span class="sc10">(</span><span class="sc11">decompressInputFile</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">decompressOutputFile</span><span class="sc10">)){</span><span class="sc0">
                    </span><span class="sc11">decompressButton</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Complete!"</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">
                
            </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc10">});</span><span class="sc0">
        </span><span class="sc11">decompressInputBrowse</span><span class="sc10">.</span><span class="sc11">setOnAction</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">EventHandler</span><span class="sc10">&lt;</span><span class="sc11">ActionEvent</span><span class="sc10">&gt;()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">@Override</span><span class="sc0">
            </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">handle</span><span class="sc10">(</span><span class="sc11">ActionEvent</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">FileChooser</span><span class="sc0"> </span><span class="sc11">inputBrowseWindow</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">();</span><span class="sc0">
                </span><span class="sc11">inputBrowseWindow</span><span class="sc10">.</span><span class="sc11">setTitle</span><span class="sc10">(</span><span class="sc6">"Choose Input File"</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">inputBrowseWindow</span><span class="sc10">.</span><span class="sc11">getExtensionFilters</span><span class="sc10">().</span><span class="sc11">addAll</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"BIN"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.bin"</span><span class="sc10">));</span><span class="sc0">
                </span><span class="sc11">decompressInputFile</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">inputBrowseWindow</span><span class="sc10">.</span><span class="sc11">showOpenDialog</span><span class="sc10">(</span><span class="sc11">JavaFXApplication5</span><span class="sc10">.</span><span class="sc11">mainStage</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">decompressInputField</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc11">decompressInputFile</span><span class="sc10">.</span><span class="sc11">getAbsolutePath</span><span class="sc10">());</span><span class="sc0">
                
            </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc10">});</span><span class="sc0">
        </span><span class="sc11">decompressOutputBrowse</span><span class="sc10">.</span><span class="sc11">setOnAction</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">EventHandler</span><span class="sc10">&lt;</span><span class="sc11">ActionEvent</span><span class="sc10">&gt;()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">@Override</span><span class="sc0">
            </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">handle</span><span class="sc10">(</span><span class="sc11">ActionEvent</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">FileChooser</span><span class="sc0"> </span><span class="sc11">outputBrowseWindow</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">();</span><span class="sc0">
                </span><span class="sc11">outputBrowseWindow</span><span class="sc10">.</span><span class="sc11">setTitle</span><span class="sc10">(</span><span class="sc6">"Choose Output Location"</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">outputBrowseWindow</span><span class="sc10">.</span><span class="sc11">getExtensionFilters</span><span class="sc10">().</span><span class="sc11">addAll</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"TXT"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.txt"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"JAVA"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.java"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"CPP"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.cpp"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"C"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.c"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"C#"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.cs"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"HTML"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.html"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"CSS"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.css"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"JS"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.js"</span><span class="sc10">));</span><span class="sc0">
                </span><span class="sc11">decompressOutputFile</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">outputBrowseWindow</span><span class="sc10">.</span><span class="sc11">showSaveDialog</span><span class="sc10">(</span><span class="sc11">JavaFXApplication5</span><span class="sc10">.</span><span class="sc11">mainStage</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">decompressOutputField</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc11">decompressOutputFile</span><span class="sc10">.</span><span class="sc11">getAbsolutePath</span><span class="sc10">());</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc10">});</span><span class="sc0">
    </span><span class="sc10">}</span>
</pre><div class="caption">Here we see the event handling of the main UI.</div>
        </div><div class="smallSpace"></div>
        <h2>JavaFileCompress</h2>
        <p>
            The main class within the program is the JavaFileCompress. The class basically translates exactly to the C# program; as I used that project for the basis of this one.
            We use a private class 'Word' to store our characters, and to create our characters from a compressed file. The 'compress' method begins by opening the specified file passed from the fxml
            controller. Once this file is opened we assign a String, 'inputString', the returned string from our wrapped <a href="http://docs.oracle.com/javase/7/docs/api/java/io/FileReader.html" target="_blank">FileReader</a> 
        object, this stream is wrapped by a <a href="http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html"target="_blank">BufferedReader</a>. The 'inputString' is appended with 
        a carriage return, and checked for 'empty' chars that appear in the text. This problem was faced with compressing a text file encoded with UTF-16 vs US-ASCII; where 'empty' characters
        were found when compressing the UTF-16 file. We then go through the string by index and adding any new characters to an ArrayList along with incrementing a counter for each found character.
        </p>
        <div class="codeBoxN">
            <pre>
                <span class="sc2">//create class for Word
</span><span class="sc0">    </span><span class="sc16">private</span><span class="sc0"> </span><span class="sc16">static</span><span class="sc0"> </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">Word</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc11">String</span><span class="sc0"> </span><span class="sc11">plainWord</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">probability</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc11">String</span><span class="sc0"> </span><span class="sc11">codeWord</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    
    </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc16">static</span><span class="sc0"> </span><span class="sc16">boolean</span><span class="sc0"> </span><span class="sc11">compress</span><span class="sc10">(</span><span class="sc11">File</span><span class="sc0"> </span><span class="sc11">inputFile</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">final</span><span class="sc0"> </span><span class="sc11">File</span><span class="sc0"> </span><span class="sc11">outputFile</span><span class="sc10">){</span><span class="sc0">
        </span><span class="sc11">ArrayList</span><span class="sc10">&lt;</span><span class="sc11">Character</span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">characterList</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">ArrayList</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{};</span><span class="sc0">
        </span><span class="sc11">ArrayList</span><span class="sc10">&lt;</span><span class="sc11">Double</span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">characterCount</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">ArrayList</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">totalCharacters</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">BufferedReader</span><span class="sc0"> </span><span class="sc11">inputReader</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">String</span><span class="sc0"> </span><span class="sc11">inputString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">""</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc5">try</span><span class="sc0"> 
        </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">inputReader</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">BufferedReader</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileReader</span><span class="sc10">(</span><span class="sc11">inputFile</span><span class="sc10">));</span><span class="sc0">
            </span><span class="sc11">inputString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">inputReader</span><span class="sc10">.</span><span class="sc11">readLine</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc2">//catch any exceptions from opening file
</span><span class="sc0">        </span><span class="sc10">}</span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">Exception</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">){</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">printStackTrace</span><span class="sc10">(</span><span class="sc11">System</span><span class="sc10">.</span><span class="sc11">err</span><span class="sc10">);}</span><span class="sc0">
        
        </span><span class="sc5">while</span><span class="sc10">(</span><span class="sc11">inputString</span><span class="sc10">!=</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">)</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc0">   </span><span class="sc2">//add carriage return back
</span><span class="sc0">            </span><span class="sc11">inputString</span><span class="sc0"> </span><span class="sc10">+=</span><span class="sc0"> </span><span class="sc11">System</span><span class="sc10">.</span><span class="sc11">lineSeparator</span><span class="sc10">();</span><span class="sc0">
            </span><span class="sc2">//handle any 'empty' chars, found issues with this between encodings
</span><span class="sc0">            </span><span class="sc11">inputString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">inputString</span><span class="sc10">.</span><span class="sc11">replace</span><span class="sc10">(</span><span class="sc6">"\0"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">""</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc5">for</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc10">=</span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc11">inputString</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">();</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc10">++)</span><span class="sc0">
            </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">Character</span><span class="sc0"> </span><span class="sc11">currentChar</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">inputString</span><span class="sc10">.</span><span class="sc11">charAt</span><span class="sc10">(</span><span class="sc11">i</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">totalCharacters</span><span class="sc10">++;</span><span class="sc0">
                </span><span class="sc5">if</span><span class="sc10">(!(</span><span class="sc11">characterList</span><span class="sc10">.</span><span class="sc11">contains</span><span class="sc10">(</span><span class="sc11">currentChar</span><span class="sc10">)))</span><span class="sc0">
                </span><span class="sc10">{</span><span class="sc0">
                    </span><span class="sc11">characterList</span><span class="sc10">.</span><span class="sc11">add</span><span class="sc10">(</span><span class="sc11">currentChar</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc11">characterCount</span><span class="sc10">.</span><span class="sc11">add</span><span class="sc10">(</span><span class="sc4">1.0</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">
                </span><span class="sc5">else</span><span class="sc0">
                </span><span class="sc10">{</span><span class="sc0">   </span><span class="sc2">//increment the counter for the currentChar
</span><span class="sc0">                    </span><span class="sc11">Double</span><span class="sc0"> </span><span class="sc11">newCount</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">characterCount</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc11">characterList</span><span class="sc10">.</span><span class="sc11">indexOf</span><span class="sc10">(</span><span class="sc11">currentChar</span><span class="sc10">));</span><span class="sc0">
                    </span><span class="sc11">newCount</span><span class="sc10">++;</span><span class="sc0">
                    </span><span class="sc11">characterCount</span><span class="sc10">.</span><span class="sc11">set</span><span class="sc10">(</span><span class="sc11">characterList</span><span class="sc10">.</span><span class="sc11">indexOf</span><span class="sc10">(</span><span class="sc11">currentChar</span><span class="sc10">),</span><span class="sc0"> </span><span class="sc11">newCount</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc2">//end for(i=0;i&lt;inputString.length)
</span><span class="sc0">            </span><span class="sc2">//get the next line
</span><span class="sc0">            </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">inputString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">inputReader</span><span class="sc10">.</span><span class="sc11">readLine</span><span class="sc10">();</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">IOException</span><span class="sc0"> </span><span class="sc11">ex</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">Logger</span><span class="sc10">.</span><span class="sc11">getLogger</span><span class="sc10">(</span><span class="sc11">JavaFXApplication5</span><span class="sc10">.</span><span class="sc16">class</span><span class="sc10">.</span><span class="sc11">getName</span><span class="sc10">()).</span><span class="sc11">log</span><span class="sc10">(</span><span class="sc11">Level</span><span class="sc10">.</span><span class="sc11">SEVERE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ex</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">ex</span><span class="sc10">.</span><span class="sc11">printStackTrace</span><span class="sc10">(</span><span class="sc11">System</span><span class="sc10">.</span><span class="sc11">err</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc2">//end while(inputString!=null)
</span><span class="sc0">        </span><span class="sc2">//close the inputReader stream
</span><span class="sc0">        </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">inputReader</span><span class="sc10">.</span><span class="sc11">close</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">IOException</span><span class="sc0"> </span><span class="sc11">ex</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">Logger</span><span class="sc10">.</span><span class="sc11">getLogger</span><span class="sc10">(</span><span class="sc11">JavaFXApplication5</span><span class="sc10">.</span><span class="sc16">class</span><span class="sc10">.</span><span class="sc11">getName</span><span class="sc10">()).</span><span class="sc11">log</span><span class="sc10">(</span><span class="sc11">Level</span><span class="sc10">.</span><span class="sc11">SEVERE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ex</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc11">ex</span><span class="sc10">.</span><span class="sc11">printStackTrace</span><span class="sc10">(</span><span class="sc11">System</span><span class="sc10">.</span><span class="sc11">err</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc10">}</span>
</pre><div class="caption">Here we see the procedure for reading in the file and getting our dictionary of characters.</div>
        </div><div class="smallSpace"></div>
<p>
    Once the dictionary of characters is created, we run the 'huffman' method that will create our RootedBinaryTree objects and form a tree of code words. This method pulls the two lowest probability 
    trees and combines them together until we end with one single tree. Once we have one tree, we pass this to a recursive method 'assignCodes' which traverses the tree and assigns codeword strings
    to our dictionary of characters. These code word strings are the string representation of the binary bytes we will write to the compressed file.
</p>
        <div class="codeBoxN">
            <pre>
                <span class="sc16">private</span><span class="sc0"> </span><span class="sc16">static</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">huffman</span><span class="sc10">(</span><span class="sc11">Word</span><span class="sc10">[]</span><span class="sc0"> </span><span class="sc11">theWords</span><span class="sc10">)</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">ArrayList</span><span class="sc10">&lt;</span><span class="sc11">RootedBinaryTree</span><span class="sc10">&lt;</span><span class="sc11">Word</span><span class="sc10">&gt;&gt;</span><span class="sc0"> </span><span class="sc11">treeArray</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">ArrayList</span><span class="sc10">();</span><span class="sc0">
            </span><span class="sc2">//make our initial list of binary trees
</span><span class="sc0">            </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">Word</span><span class="sc0"> </span><span class="sc11">theWord</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">theWords</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">treeArray</span><span class="sc10">.</span><span class="sc11">add</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">RootedBinaryTree</span><span class="sc10">(</span><span class="sc11">theWord</span><span class="sc10">));</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc2">//combine trees
</span><span class="sc0">            </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">treeArray</span><span class="sc10">.</span><span class="sc11">size</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">)</span><span class="sc0">
            </span><span class="sc10">{</span><span class="sc0">
                    </span><span class="sc11">Word</span><span class="sc0"> </span><span class="sc11">newWord</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Word</span><span class="sc10">();</span><span class="sc0">
                    </span><span class="sc11">newWord</span><span class="sc10">.</span><span class="sc11">plainWord</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">;</span><span class="sc0">
                    </span><span class="sc11">newWord</span><span class="sc10">.</span><span class="sc11">codeWord</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">;</span><span class="sc0">
                    </span><span class="sc2">//combine the probabilities
</span><span class="sc0">                    </span><span class="sc11">RootedBinaryTree</span><span class="sc10">&lt;</span><span class="sc11">Word</span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">lowestProb1</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">treeArray</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc11">RootedBinaryTree</span><span class="sc10">&lt;</span><span class="sc11">Word</span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">lowestProb2</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">treeArray</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc5">for</span><span class="sc10">(</span><span class="sc11">RootedBinaryTree</span><span class="sc10">&lt;</span><span class="sc11">Word</span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">currentTree</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">treeArray</span><span class="sc10">)</span><span class="sc0">
                    </span><span class="sc10">{</span><span class="sc0">
                        </span><span class="sc5">if</span><span class="sc10">((</span><span class="sc11">currentTree</span><span class="sc10">.</span><span class="sc11">getData</span><span class="sc10">().</span><span class="sc11">probability</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc11">lowestProb1</span><span class="sc10">.</span><span class="sc11">getData</span><span class="sc10">().</span><span class="sc11">probability</span><span class="sc10">)</span><span class="sc0">
                                </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">currentTree</span><span class="sc0"> </span><span class="sc10">!=</span><span class="sc0"> </span><span class="sc11">lowestProb2</span><span class="sc10">))</span><span class="sc0">
                        </span><span class="sc10">{</span><span class="sc0">
                           </span><span class="sc11">lowestProb1</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">currentTree</span><span class="sc10">;</span><span class="sc0">
                        </span><span class="sc10">}</span><span class="sc0">
                        </span><span class="sc5">if</span><span class="sc10">((</span><span class="sc11">currentTree</span><span class="sc10">.</span><span class="sc11">getData</span><span class="sc10">().</span><span class="sc11">probability</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc11">lowestProb2</span><span class="sc10">.</span><span class="sc11">getData</span><span class="sc10">().</span><span class="sc11">probability</span><span class="sc10">)</span><span class="sc0">
                                </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">currentTree</span><span class="sc0"> </span><span class="sc10">!=</span><span class="sc0"> </span><span class="sc11">lowestProb1</span><span class="sc10">))</span><span class="sc0">
                        </span><span class="sc10">{</span><span class="sc0">
                            </span><span class="sc11">lowestProb2</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">currentTree</span><span class="sc10">;</span><span class="sc0">
                        </span><span class="sc10">}</span><span class="sc0">
                    </span><span class="sc10">}</span><span class="sc0">                    
                    
                    </span><span class="sc11">newWord</span><span class="sc10">.</span><span class="sc11">probability</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">lowestProb1</span><span class="sc10">.</span><span class="sc11">getData</span><span class="sc10">().</span><span class="sc11">probability</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">lowestProb2</span><span class="sc10">.</span><span class="sc11">getData</span><span class="sc10">().</span><span class="sc11">probability</span><span class="sc10">;</span><span class="sc0">
                    </span><span class="sc2">//make a new tree for the combined trees.
</span><span class="sc0">                    </span><span class="sc11">RootedBinaryTree</span><span class="sc10">&lt;</span><span class="sc11">Word</span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">combinedTrees</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">RootedBinaryTree</span><span class="sc10">(</span><span class="sc11">newWord</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc11">combinedTrees</span><span class="sc10">.</span><span class="sc11">combineTrees</span><span class="sc10">(</span><span class="sc11">lowestProb1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">lowestProb2</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc2">//make sure we are at root
</span><span class="sc0">                    </span><span class="sc11">combinedTrees</span><span class="sc10">.</span><span class="sc11">toRoot</span><span class="sc10">();</span><span class="sc0">
                    </span><span class="sc2">//insert tree
</span><span class="sc0">                    </span><span class="sc11">treeArray</span><span class="sc10">.</span><span class="sc11">add</span><span class="sc10">(</span><span class="sc11">combinedTrees</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc11">treeArray</span><span class="sc10">.</span><span class="sc11">remove</span><span class="sc10">(</span><span class="sc11">treeArray</span><span class="sc10">.</span><span class="sc11">indexOf</span><span class="sc10">(</span><span class="sc11">lowestProb1</span><span class="sc10">));</span><span class="sc0">
                    </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">treeArray</span><span class="sc10">.</span><span class="sc11">size</span><span class="sc10">()&gt;</span><span class="sc4">1</span><span class="sc10">)</span><span class="sc0">
                    </span><span class="sc10">{</span><span class="sc0">
                        </span><span class="sc11">treeArray</span><span class="sc10">.</span><span class="sc11">remove</span><span class="sc10">(</span><span class="sc11">treeArray</span><span class="sc10">.</span><span class="sc11">indexOf</span><span class="sc10">(</span><span class="sc11">lowestProb2</span><span class="sc10">));</span><span class="sc0">
                    </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc2">//end while( &gt;1)
</span><span class="sc0">            </span><span class="sc11">treeArray</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">).</span><span class="sc11">toRoot</span><span class="sc10">();</span><span class="sc0">
            </span><span class="sc11">RootedBinaryTree</span><span class="sc10">&lt;</span><span class="sc11">Word</span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">combinedTree</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">treeArray</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc11">String</span><span class="sc0"> </span><span class="sc11">codeString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">""</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">assignCodes</span><span class="sc10">(</span><span class="sc0"> </span><span class="sc11">codeString</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">theWords</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">combinedTree</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc2">//end huffman()
</span><span class="sc0">
    </span><span class="sc16">private</span><span class="sc0"> </span><span class="sc16">static</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">assignCodes</span><span class="sc10">(</span><span class="sc0"> </span><span class="sc11">String</span><span class="sc0"> </span><span class="sc11">codeString</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">Word</span><span class="sc10">[]</span><span class="sc0"> </span><span class="sc11">theWords</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">RootedBinaryTree</span><span class="sc10">&lt;</span><span class="sc11">Word</span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">combinedTree</span><span class="sc10">)</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">   </span><span class="sc2">//if we can go left...
</span><span class="sc0">        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">combinedTree</span><span class="sc10">.</span><span class="sc11">moveLeft</span><span class="sc10">())</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc0">   </span><span class="sc2">//adjust codeword string accordingly...
</span><span class="sc0">            </span><span class="sc11">codeString</span><span class="sc0"> </span><span class="sc10">+=</span><span class="sc0"> </span><span class="sc7">'0'</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">combinedTree</span><span class="sc10">.</span><span class="sc11">getData</span><span class="sc10">().</span><span class="sc11">plainWord</span><span class="sc0"> </span><span class="sc10">!=</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">)</span><span class="sc0">
            </span><span class="sc10">{</span><span class="sc0">   </span><span class="sc2">//if we have a character here....
</span><span class="sc0">                </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">Word</span><span class="sc0"> </span><span class="sc11">theWord</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">theWords</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                    </span><span class="sc2">//find the character in our 'theWords' array...
</span><span class="sc0">                    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">combinedTree</span><span class="sc10">.</span><span class="sc11">getData</span><span class="sc10">().</span><span class="sc11">plainWord</span><span class="sc10">.</span><span class="sc11">equals</span><span class="sc10">(</span><span class="sc11">theWord</span><span class="sc10">.</span><span class="sc11">plainWord</span><span class="sc10">))</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                        </span><span class="sc2">//label this character with a codeword string
</span><span class="sc0">                        </span><span class="sc11">theWord</span><span class="sc10">.</span><span class="sc11">codeWord</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">codeString</span><span class="sc10">;</span><span class="sc0">
                        </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
                    </span><span class="sc10">}</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc2">//recusive call
</span><span class="sc0">            </span><span class="sc11">assignCodes</span><span class="sc10">(</span><span class="sc0"> </span><span class="sc11">codeString</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">theWords</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">combinedTree</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc2">//back from recursion, remove a character from our codeword string
</span><span class="sc0">            </span><span class="sc11">codeString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">codeString</span><span class="sc10">.</span><span class="sc11">substring</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">codeString</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc2">//end if(combinedTree.moveLeft())
</span><span class="sc0">        </span><span class="sc2">//do the same for right sides....
</span><span class="sc0">        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">combinedTree</span><span class="sc10">.</span><span class="sc11">moveRight</span><span class="sc10">())</span><span class="sc0">
        </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">codeString</span><span class="sc0"> </span><span class="sc10">+=</span><span class="sc0"> </span><span class="sc7">'1'</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">combinedTree</span><span class="sc10">.</span><span class="sc11">getData</span><span class="sc10">().</span><span class="sc11">plainWord</span><span class="sc0"> </span><span class="sc10">!=</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">)</span><span class="sc0">
                </span><span class="sc10">{</span><span class="sc0">
                    </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">Word</span><span class="sc0"> </span><span class="sc11">theWord</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">theWords</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">combinedTree</span><span class="sc10">.</span><span class="sc11">getData</span><span class="sc10">().</span><span class="sc11">plainWord</span><span class="sc10">.</span><span class="sc11">equals</span><span class="sc10">(</span><span class="sc11">theWord</span><span class="sc10">.</span><span class="sc11">plainWord</span><span class="sc10">))</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                            </span><span class="sc11">theWord</span><span class="sc10">.</span><span class="sc11">codeWord</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">codeString</span><span class="sc10">;</span><span class="sc0">
                            </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
                        </span><span class="sc10">}</span><span class="sc0">
                    </span><span class="sc10">}</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">
                </span><span class="sc11">assignCodes</span><span class="sc10">(</span><span class="sc0"> </span><span class="sc11">codeString</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">theWords</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">combinedTree</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">codeString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">codeString</span><span class="sc10">.</span><span class="sc11">substring</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">codeString</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">()-</span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc2">//explored all possibilities, move back up....
</span><span class="sc0">        </span><span class="sc11">combinedTree</span><span class="sc10">.</span><span class="sc11">moveUp</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span>
</pre><div class="caption">Here we see the 'huffman' method and the 'assignCodes' method, both are used to form our dictionary of code words.</div>
        </div><div class="smallSpace"></div>
        <p>
            Once we have the code word tree, we begin writing the dictionary to file in binary using a <a href="http://docs.oracle.com/javase/7/docs/api/java/io/BufferedOutputStream.html"target="_blank">BufferedOutputStream</a> . 
    We then create a byte 'writeByte' which will be
   shifted on 2 for every '0' character within the code word, and incremented for every '1' found within the code word. we write the 'writeByte' when we have counted eight code word
   positions which will give us a complete byte representing the code word. the same process is used when writing the original file, where we also read the file again and write the bytes as we
   read the file.</p>
        <div class="codeBoxN">
            <pre>
                <span class="sc0">        </span><span class="sc11">OutputStream</span><span class="sc0"> </span><span class="sc11">outputStream</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc5">try</span><span class="sc10">{</span><span class="sc0">       
            </span><span class="sc2">//open output stream and write total pairs to follow
</span><span class="sc0">            </span><span class="sc11">outputStream</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">BufferedOutputStream</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileOutputStream</span><span class="sc10">(</span><span class="sc11">outputFile</span><span class="sc10">));</span><span class="sc0">
            </span><span class="sc11">outputStream</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc16">byte</span><span class="sc10">[]</span><span class="sc0"> </span><span class="sc10">{(</span><span class="sc16">byte</span><span class="sc10">)</span><span class="sc11">theWords</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">});</span><span class="sc0">            
        </span><span class="sc10">}</span><span class="sc0">
         </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">IOException</span><span class="sc0"> </span><span class="sc11">ex</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">Logger</span><span class="sc10">.</span><span class="sc11">getLogger</span><span class="sc10">(</span><span class="sc11">JavaFileCompress</span><span class="sc10">.</span><span class="sc16">class</span><span class="sc10">.</span><span class="sc11">getName</span><span class="sc10">()).</span><span class="sc11">log</span><span class="sc10">(</span><span class="sc11">Level</span><span class="sc10">.</span><span class="sc11">SEVERE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ex</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc11">ex</span><span class="sc10">.</span><span class="sc11">printStackTrace</span><span class="sc10">(</span><span class="sc11">System</span><span class="sc10">.</span><span class="sc11">err</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc16">byte</span><span class="sc0"> </span><span class="sc11">writeByte</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">counter</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">Word</span><span class="sc0"> </span><span class="sc11">theWord</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">theWords</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc2">//write code word
</span><span class="sc0">                </span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">plainChar</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">theWord</span><span class="sc10">.</span><span class="sc11">plainWord</span><span class="sc10">.</span><span class="sc11">charAt</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">outputStream</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">((</span><span class="sc16">byte</span><span class="sc10">)</span><span class="sc11">plainChar</span><span class="sc10">);</span><span class="sc0">            
                </span><span class="sc2">//write code word length
</span><span class="sc0">                </span><span class="sc11">outputStream</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">((</span><span class="sc16">byte</span><span class="sc10">)</span><span class="sc11">theWord</span><span class="sc10">.</span><span class="sc11">codeWord</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">());</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">IOException</span><span class="sc0"> </span><span class="sc11">ex</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">Logger</span><span class="sc10">.</span><span class="sc11">getLogger</span><span class="sc10">(</span><span class="sc11">JavaFileCompress</span><span class="sc10">.</span><span class="sc16">class</span><span class="sc10">.</span><span class="sc11">getName</span><span class="sc10">()).</span><span class="sc11">log</span><span class="sc10">(</span><span class="sc11">Level</span><span class="sc10">.</span><span class="sc11">SEVERE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ex</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc2">//write the code word
</span><span class="sc0">            </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc11">theWord</span><span class="sc10">.</span><span class="sc11">codeWord</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">();</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">++)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">writeByte</span><span class="sc0"> </span><span class="sc10">*=</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc11">counter</span><span class="sc10">++;</span><span class="sc0">
                </span><span class="sc11">writeByte</span><span class="sc0"> </span><span class="sc10">+=</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">byte</span><span class="sc10">)(</span><span class="sc11">theWord</span><span class="sc10">.</span><span class="sc11">codeWord</span><span class="sc10">.</span><span class="sc11">charAt</span><span class="sc10">(</span><span class="sc11">j</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc7">'0'</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">counter</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc4">8</span><span class="sc10">)</span><span class="sc0">
                </span><span class="sc10">{</span><span class="sc0">
                    </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                        </span><span class="sc11">outputStream</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">writeByte</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">IOException</span><span class="sc0"> </span><span class="sc11">ex</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                        </span><span class="sc11">Logger</span><span class="sc10">.</span><span class="sc11">getLogger</span><span class="sc10">(</span><span class="sc11">JavaFileCompress</span><span class="sc10">.</span><span class="sc16">class</span><span class="sc10">.</span><span class="sc11">getName</span><span class="sc10">()).</span><span class="sc11">log</span><span class="sc10">(</span><span class="sc11">Level</span><span class="sc10">.</span><span class="sc11">SEVERE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ex</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc10">}</span><span class="sc0">
                    </span><span class="sc11">counter</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
                    </span><span class="sc11">writeByte</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc2">//pad the (end) of the last byte
</span><span class="sc0">            </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">counter</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc4">8</span><span class="sc10">)</span><span class="sc0">
            </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">writeByte</span><span class="sc0"> </span><span class="sc10">*=</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc11">counter</span><span class="sc10">++;</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">outputStream</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">writeByte</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">IOException</span><span class="sc0"> </span><span class="sc11">ex</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">Logger</span><span class="sc10">.</span><span class="sc11">getLogger</span><span class="sc10">(</span><span class="sc11">JavaFileCompress</span><span class="sc10">.</span><span class="sc16">class</span><span class="sc10">.</span><span class="sc11">getName</span><span class="sc10">()).</span><span class="sc11">log</span><span class="sc10">(</span><span class="sc11">Level</span><span class="sc10">.</span><span class="sc11">SEVERE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ex</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc11">writeByte</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">counter</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc10">}</span>
</pre><div class="caption">Here see the procedure for writing the dictionary to file.</div>
        </div><div class="smallSpace"></div>
        <p>
            The writing of the original file is done with the same byte procedure as writing the dictionary, with some differences. The process is wrapped by reading the original file with a new 
            instance of the BufferedReader object. Once we read a line from the original file we compare each character against the code word tree and write the binary value of the code word string.
        </p>
        <div class="space"></div>
        <h2>Decompression</h2>
        <p>
            The 'decompress' method takes two arguments, an input file and output file where the input file must be the binary file that was written by the 'compress' method. The output file will be the
            translated file after decompression. This is done with the user interface via a 'Browse' button that allows the user to select the file, where filtering is done to ensure only a '*.bin' file is displayed.
            This operation is performed with the 'FXMLDocumentController' class which controls the user interface.
        </p>
        <div class="codeBoxN">
            <pre>
                <span class="sc11">decompressInputBrowse</span><span class="sc10">.</span><span class="sc11">setOnAction</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">EventHandler</span><span class="sc10">&lt;</span><span class="sc11">ActionEvent</span><span class="sc10">&gt;()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">@Override</span><span class="sc0">
            </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">handle</span><span class="sc10">(</span><span class="sc11">ActionEvent</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">FileChooser</span><span class="sc0"> </span><span class="sc11">inputBrowseWindow</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">();</span><span class="sc0">
                </span><span class="sc11">inputBrowseWindow</span><span class="sc10">.</span><span class="sc11">setTitle</span><span class="sc10">(</span><span class="sc6">"Choose Input File"</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">inputBrowseWindow</span><span class="sc10">.</span><span class="sc11">getExtensionFilters</span><span class="sc10">().</span><span class="sc11">addAll</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"BIN"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.bin"</span><span class="sc10">));</span><span class="sc0">
                </span><span class="sc11">decompressInputFile</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">inputBrowseWindow</span><span class="sc10">.</span><span class="sc11">showOpenDialog</span><span class="sc10">(</span><span class="sc11">JavaFileCompress</span><span class="sc10">.</span><span class="sc11">mainStage</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">decompressInputField</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc11">decompressInputFile</span><span class="sc10">.</span><span class="sc11">getAbsolutePath</span><span class="sc10">());</span><span class="sc0">
                
            </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc10">});</span><span class="sc0">
        </span><span class="sc11">decompressOutputBrowse</span><span class="sc10">.</span><span class="sc11">setOnAction</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">EventHandler</span><span class="sc10">&lt;</span><span class="sc11">ActionEvent</span><span class="sc10">&gt;()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">@Override</span><span class="sc0">
            </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">handle</span><span class="sc10">(</span><span class="sc11">ActionEvent</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">FileChooser</span><span class="sc0"> </span><span class="sc11">outputBrowseWindow</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">();</span><span class="sc0">
                </span><span class="sc11">outputBrowseWindow</span><span class="sc10">.</span><span class="sc11">setTitle</span><span class="sc10">(</span><span class="sc6">"Choose Output Location"</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">outputBrowseWindow</span><span class="sc10">.</span><span class="sc11">getExtensionFilters</span><span class="sc10">().</span><span class="sc11">addAll</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"TXT"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.txt"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"JAVA"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.java"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"CPP"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.cpp"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"C"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.c"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"C#"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.cs"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"HTML"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.html"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"CSS"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.css"</span><span class="sc10">),</span><span class="sc0">
                                                                </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileChooser</span><span class="sc10">.</span><span class="sc11">ExtensionFilter</span><span class="sc10">(</span><span class="sc6">"JS"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"*.js"</span><span class="sc10">));</span><span class="sc0">
                </span><span class="sc11">decompressOutputFile</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">outputBrowseWindow</span><span class="sc10">.</span><span class="sc11">showSaveDialog</span><span class="sc10">(</span><span class="sc11">JavaFileCompress</span><span class="sc10">.</span><span class="sc11">mainStage</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">decompressOutputField</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc11">decompressOutputFile</span><span class="sc10">.</span><span class="sc11">getAbsolutePath</span><span class="sc10">());</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc10">});</span>
</pre><div class="caption">Here we see the part of 'FXMLDocumentController' class which handles the user 'Browse' action.</div>
        </div><div class="smallSpace"></div>
        <p>
            The 'decompress' method begins with opening a <a href="http://docs.oracle.com/javase/7/docs/api/java/io/BufferedWriter.html"target="_blank">BufferedWriter</a> 
            object which will write the translated strings to the output file. We use a <a href="http://docs.oracle.com/javase/7/docs/api/java/io/BufferedInputStream.html">BufferedInputSream</a> 
        to read the compressed file from memory.</p>
        <p>
            The first thing to be read is the dictionary, the first byte of the file specifies how many pairs of string characters and thier code word are to follow, between the plain string and the code word
            we also read the code word length which specifies when each code word is completely read. After the first byte is read we read the first plain string character that was written with its
            encoded byte value, this is cast to a char type. The code word length is then read followed by the bytes representing the code word, we read bytes from the file and convert the binary byte
            to a string with the <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toBinaryString%28int%29">'Integer.toBinaryString'</a> method. Due to the fact that the file 
        was written in binary and we are reading the file per byte, the chance exists where leading zeros are omitted; for this case we check the length and adjust the string as needed.</p>
        <div class="codeBoxN">
            <pre>
                <span class="sc16">public</span><span class="sc0"> </span><span class="sc16">static</span><span class="sc0"> </span><span class="sc16">boolean</span><span class="sc0"> </span><span class="sc11">decompress</span><span class="sc10">(</span><span class="sc11">File</span><span class="sc0"> </span><span class="sc11">inputFile</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">File</span><span class="sc0"> </span><span class="sc11">outputFile</span><span class="sc10">)</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">        
        </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc5">if</span><span class="sc10">(!(</span><span class="sc11">outputFile</span><span class="sc10">.</span><span class="sc11">createNewFile</span><span class="sc10">()))</span><span class="sc0">
            </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">outputFile</span><span class="sc10">.</span><span class="sc11">setWritable</span><span class="sc10">(</span><span class="sc5">true</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc11">Writer</span><span class="sc0"> </span><span class="sc11">outputStream</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">BufferedWriter</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileWriter</span><span class="sc10">(</span><span class="sc11">outputFile</span><span class="sc10">));</span><span class="sc0">            
            </span><span class="sc11">InputStream</span><span class="sc0"> </span><span class="sc11">inputStream</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">null</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">inputStream</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">BufferedInputStream</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">FileInputStream</span><span class="sc10">(</span><span class="sc11">inputFile</span><span class="sc10">));</span><span class="sc0">            
            </span><span class="sc11">ArrayList</span><span class="sc10">&lt;</span><span class="sc11">Word</span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">theWords</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">ArrayList</span><span class="sc10">();</span><span class="sc0">            
            </span><span class="sc2">//inputString used later for reading inputFile
</span><span class="sc0">            </span><span class="sc11">String</span><span class="sc0"> </span><span class="sc11">inputString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">""</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">numOfPairs</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">inputStream</span><span class="sc10">.</span><span class="sc11">read</span><span class="sc10">();</span><span class="sc0">
            </span><span class="sc11">String</span><span class="sc0"> </span><span class="sc11">plainWordString</span><span class="sc10">=</span><span class="sc6">""</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">String</span><span class="sc0"> </span><span class="sc11">binaryString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">""</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">String</span><span class="sc0"> </span><span class="sc11">codeString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">""</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc2">//while there are pairs still in the file...
</span><span class="sc0">            </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">numOfPairs</span><span class="sc0"> </span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">)</span><span class="sc0">
            </span><span class="sc10">{</span><span class="sc0">   </span><span class="sc2">//get the plain char from file
</span><span class="sc0">                </span><span class="sc11">plainWordString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">String</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">[]</span><span class="sc0"> </span><span class="sc10">{(</span><span class="sc16">char</span><span class="sc10">)</span><span class="sc11">inputStream</span><span class="sc10">.</span><span class="sc11">read</span><span class="sc10">()});</span><span class="sc0">
                </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">codeWordLength</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc2">//get the 'codeWord' length from file
</span><span class="sc0">                </span><span class="sc11">codeWordLength</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">inputStream</span><span class="sc10">.</span><span class="sc11">read</span><span class="sc10">();</span><span class="sc0">
                </span><span class="sc2">//find amount of bytes to read for codeword
</span><span class="sc0">                </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">bytesToRead</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">codeWordLength</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc4">8</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc2">//round up
</span><span class="sc0">                </span><span class="sc11">bytesToRead</span><span class="sc10">++;</span><span class="sc0">
                </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">bytesToRead</span><span class="sc0"> </span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">)</span><span class="sc0">
                </span><span class="sc10">{</span><span class="sc0">   </span><span class="sc2">//get a string from file    
</span><span class="sc0">                    </span><span class="sc11">String</span><span class="sc0"> </span><span class="sc11">buf</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">Integer</span><span class="sc10">.</span><span class="sc11">toBinaryString</span><span class="sc10">((</span><span class="sc16">int</span><span class="sc10">)</span><span class="sc11">inputStream</span><span class="sc10">.</span><span class="sc11">read</span><span class="sc10">());</span><span class="sc0">
                    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">buf</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc4">8</span><span class="sc10">)</span><span class="sc0">
                    </span><span class="sc10">{</span><span class="sc0">   </span><span class="sc2">//add any leading zeros
</span><span class="sc0">                        </span><span class="sc11">buf</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">String</span><span class="sc10">.</span><span class="sc11">format</span><span class="sc10">(</span><span class="sc6">"%8s"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">buf</span><span class="sc10">).</span><span class="sc11">replace</span><span class="sc10">(</span><span class="sc7">' '</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc7">'0'</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc10">}</span><span class="sc0">
                    </span><span class="sc2">//add new string to 'binaryString'
</span><span class="sc0">                    </span><span class="sc11">binaryString</span><span class="sc0"> </span><span class="sc10">+=</span><span class="sc0"> </span><span class="sc11">buf</span><span class="sc10">;</span><span class="sc0">
                    </span><span class="sc11">bytesToRead</span><span class="sc10">--;</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">
                </span><span class="sc2">//get 'codeString' from 'binaryString'
</span><span class="sc0">                </span><span class="sc11">codeString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">binaryString</span><span class="sc10">.</span><span class="sc11">substring</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">codeWordLength</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc2">//create and add our new Word to theWord List
</span><span class="sc0">                </span><span class="sc11">Word</span><span class="sc0"> </span><span class="sc11">newWord</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Word</span><span class="sc10">();</span><span class="sc0">
                </span><span class="sc11">newWord</span><span class="sc10">.</span><span class="sc11">plainWord</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">plainWordString</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc11">newWord</span><span class="sc10">.</span><span class="sc11">codeWord</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">codeString</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc11">theWords</span><span class="sc10">.</span><span class="sc11">add</span><span class="sc10">(</span><span class="sc11">newWord</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">numOfPairs</span><span class="sc10">--;</span><span class="sc0">
                </span><span class="sc11">binaryString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">""</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc10">}</span>
</pre><div class="caption">Here we see the procedure for reading the dictionary from the compressed file.</div>
        </div><div class="smallSpace"></div>
        <p>
            Once the dictionary has been read from the file, the original file's contents are read. We begin by reading the byte immediately after the end of the dictionary, this byte is then converted to 
            a string representation, 'inputString', this string object will act as a form of buffer for us to read from and construct the original file. We also use a 'buffer' string which will pad any bytes that
            have omitted leading zeros. We create a 'matcherString' with which we copy characters from the 'inputString' and pass the 'matcherString' through a comparison with our dictionary; writing
            the associated plain string when a match is found. This translates the compressed file back to the original file.
        </p>
        <div class="codeBoxN">
            <pre>
                <span class="sc2">//begin reading compressed file.            
</span><span class="sc0">            </span><span class="sc11">inputString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">""</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">String</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">""</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc16">boolean</span><span class="sc0"> </span><span class="sc11">matched</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc5">while</span><span class="sc10">(</span><span class="sc5">true</span><span class="sc10">)</span><span class="sc0">
            </span><span class="sc10">{</span><span class="sc0">   </span><span class="sc2">//need to 'try' this to catch unexpected EOF/ end of stream exceptions
</span><span class="sc0">                </span><span class="sc11">matched</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc5">try</span><span class="sc0">
                </span><span class="sc10">{</span><span class="sc0">   </span><span class="sc2">//get a byte
</span><span class="sc0">                    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">nextByte</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">int</span><span class="sc10">)</span><span class="sc11">inputStream</span><span class="sc10">.</span><span class="sc11">read</span><span class="sc10">();</span><span class="sc0">
                    </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">nextByte</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc4">1</span><span class="sc10">){</span><span class="sc0">
                        </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
                    </span><span class="sc10">}</span><span class="sc0">
                    </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">Integer</span><span class="sc10">.</span><span class="sc11">toBinaryString</span><span class="sc10">(</span><span class="sc11">nextByte</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">
                </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">Exception</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0">
                </span><span class="sc10">{</span><span class="sc0">   </span><span class="sc2">//CATCH EOF
</span><span class="sc0">                    </span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">printStackTrace</span><span class="sc10">(</span><span class="sc11">System</span><span class="sc10">.</span><span class="sc11">err</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">
                </span><span class="sc2">//'normalize' our byte, we need leading zeros back for the code words
</span><span class="sc0">                </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc4">8</span><span class="sc10">)</span><span class="sc0">
                </span><span class="sc10">{</span><span class="sc0">
                    </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">String</span><span class="sc10">.</span><span class="sc11">format</span><span class="sc10">(</span><span class="sc6">"%8s"</span><span class="sc10">,</span><span class="sc11">buffer</span><span class="sc10">).</span><span class="sc11">replace</span><span class="sc10">(</span><span class="sc7">' '</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc7">'0'</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">
                </span><span class="sc2">//add to inputString
</span><span class="sc0">                </span><span class="sc11">inputString</span><span class="sc0"> </span><span class="sc10">+=</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc2">//setup string for matching the codewords
</span><span class="sc0">                </span><span class="sc11">String</span><span class="sc0"> </span><span class="sc11">matcherString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">""</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc2">//set to -1 for looping
</span><span class="sc0">                </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">matchPointer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc4">1</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc2">//while !matched AND our inputString is longer than the min codeword length...
</span><span class="sc0">                </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc10">(!</span><span class="sc11">matched</span><span class="sc10">)</span><span class="sc0">
                </span><span class="sc10">{</span><span class="sc0">
                    </span><span class="sc11">matchPointer</span><span class="sc10">++;</span><span class="sc0">
                    </span><span class="sc5">try</span><span class="sc0">
                    </span><span class="sc10">{</span><span class="sc0">   </span><span class="sc2">//we may 'run out' of characters in the inputString, catch this exception.....
</span><span class="sc0">                        </span><span class="sc11">matcherString</span><span class="sc0"> </span><span class="sc10">+=</span><span class="sc0"> </span><span class="sc11">inputString</span><span class="sc10">.</span><span class="sc11">charAt</span><span class="sc10">(</span><span class="sc11">matchPointer</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc10">}</span><span class="sc0">   </span><span class="sc2">//we simply break and get more characters for the 'inputString'
</span><span class="sc0">                    </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">Exception</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0"> </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc10">}</span><span class="sc0">
                    </span><span class="sc2">//match the read strings to the dictionary string
</span><span class="sc0">                    </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">Word</span><span class="sc0"> </span><span class="sc11">theWord</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">theWords</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">matcherString</span><span class="sc10">.</span><span class="sc11">equals</span><span class="sc10">(</span><span class="sc11">theWord</span><span class="sc10">.</span><span class="sc11">codeWord</span><span class="sc10">))</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                            </span><span class="sc2">//write the found character
</span><span class="sc0">                            </span><span class="sc11">outputStream</span><span class="sc10">.</span><span class="sc11">append</span><span class="sc10">((</span><span class="sc16">char</span><span class="sc10">)</span><span class="sc11">theWord</span><span class="sc10">.</span><span class="sc11">plainWord</span><span class="sc10">.</span><span class="sc11">charAt</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">));</span><span class="sc0">
                            </span><span class="sc2">//remove this from the 'inpurString'
</span><span class="sc0">                            </span><span class="sc11">inputString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">inputString</span><span class="sc10">.</span><span class="sc11">substring</span><span class="sc10">(</span><span class="sc11">theWord</span><span class="sc10">.</span><span class="sc11">codeWord</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">());</span><span class="sc0">
                            </span><span class="sc2">//reset for looping
</span><span class="sc0">                            </span><span class="sc11">matchPointer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc4">1</span><span class="sc10">;</span><span class="sc0">
                            </span><span class="sc11">matcherString</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">""</span><span class="sc10">;</span><span class="sc0">
                            </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
                        </span><span class="sc10">}</span><span class="sc0">
                    </span><span class="sc10">}</span><span class="sc0">
                    </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">inputString</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">)</span><span class="sc0">
                    </span><span class="sc10">{</span><span class="sc0">
                        </span><span class="sc11">matched</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">;</span><span class="sc0">
                    </span><span class="sc10">}</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc2">//end while (!matched &amp;&amp; inputString.Length &gt;= minCodeWordLength)
</span><span class="sc0">            </span><span class="sc10">}</span><span class="sc2">//end while(!matched)
</span><span class="sc0">            </span><span class="sc2">//close our streams
</span><span class="sc0">            </span><span class="sc11">outputStream</span><span class="sc10">.</span><span class="sc11">flush</span><span class="sc10">();</span><span class="sc0">
            </span><span class="sc11">outputStream</span><span class="sc10">.</span><span class="sc11">close</span><span class="sc10">();</span><span class="sc0">
            </span><span class="sc11">inputStream</span><span class="sc10">.</span><span class="sc11">close</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc10">}</span>
</pre><div class="caption">Here we see the procedure for translating the compressed file back into the original file.</div>
        </div><div class="space"></div>
        <p style="text-align:center;"><a href="https://raw.githubusercontent.com/dusanders/dusanders.github.io/master/JAVA/Source/FileCompression/FXMLDocument.fxml" target="_blank">FXMLDocument.fxml</a></p>
        <p style="text-align:center;"><a href="https://raw.githubusercontent.com/dusanders/dusanders.github.io/master/JAVA/Source/FileCompression/FXMLDocumentController.java" target="_blank">FXMLDocumentController.java</a></p>
        <p style="text-align:center;"><a href="https://raw.githubusercontent.com/dusanders/dusanders.github.io/master/JAVA/Source/FileCompression/JavaFileCompress.java" target="_blank">JavaFileCompress.java</a></p>
        <p style="text-align:center;"><a href="https://raw.githubusercontent.com/dusanders/dusanders.github.io/master/JAVA/Source/FileCompression/RootedBinaryTree.java" target="_blank">RootedBinaryTree.java</a></p>
        <p style="text-align:center;"><a href="https://github.com/dusanders/dusanders.github.io/tree/master/JAVA/Source/FileCompression/" target="_blank">Source Files Folder</a></p>
        <div id="footer">
            <div id="copyright">
                <p>Copyright &copy; 2015 Dustin Anderson</p>
            </div>
            <div id="aboutButton">
                <p><a href="../index.html">About</a></p>
            </div>
        </div>
    </div><!--End content-div-->
        <div id="sideBar">
            <ul id="sideBarList">
                <p style="text-align:center; text-decoration:underline;">Projects</p>
                <li class="sideBarItem" ><a href="SerialComm.html">Serial Communication</a></li>
                <li class="sideBarItem" style="color: #006600; cursor:default;">File Compression</li>
                <p style="text-align:center; text-decoration:underline;">Snippets</p>
				<li class="sideBarItem"><a href="#FibNonRecur">Non-Recursive Fibonacci</a></li>
                <li class="sideBarItem"><a href="#JavaShell">Java Shell</a></li>
                <li class="sideBarItem"><a href="#ChannelInterface">Channel Interface</a></li>
                <li class="sideBarItem"><a href="#OneLaneBridge">One Lane Bridge</a></li>
                <li class="sideBarItem"><a href="#HardwareSync">Hardware Sync</a></li>
                <li class="sideBarItem"><a href="#SleepingBarber">Sleeping Barber</a></li>
                <li class="sideBarItem"><a href="#ThreadedEncrypt">Threaded Encryption</a></li>
            </ul>
        </div>
        <div id="menuBar">
            <ul id="menuList">
                <li class="menuItem"><a href="../CPP/CPP.html">C++</a></li>
                <li class="menuItem"><a href="../CSHARP/CSharp.html">C#</a></li>
                <li class="menuItem" style="color: #80CC80;">Java</li>
                <li class="menuItem"><a href="../ASM/ASM.html">Embedded Systems</a></li>
                <li class="menuItem"><a href="../ANDROID/AndroidHome.html">Android</a></li>
            </ul>
        </div>
    </div><!--end container-->
</body>
</html>
