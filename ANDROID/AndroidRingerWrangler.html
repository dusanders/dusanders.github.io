<!DOCTYPE html>
<html lang="en-US">
<head>
    <link rel="stylesheet" href="../stylesheet.css">

    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="../script.js"></script>
    <title>Android Examples</title>
</head>
<body>
    <div id="background"><img src="androidLanding.png" /></div>
    <div id="textBackground"></div>
    <div id="container">
        <div class="content-div">
                <h1 style="text-align:center;">RingerWrangler App</h1>
            <div><img src="device-2015-01-14-102739.jpg" /><img src="device-2015-01-14-092323.jpg" /><img src="device-2015-01-14-092348.jpg" />
                <div class="caption">Here are screenshots of the app, the white space on the UI is setup as clickable ImageViews if I wanted to insert ads into the app.</div>
                </div>
            
                <p>
                    Being a full time student is a very busy lifestyle. Forgetting things is an unavoidable thing many people and college students especially. Every morning I rush to class and 
                always remember to turn down my ringer to atleast vibrate, or most of the time, completely off. This is a great habit, except when it comes to turning the ringer back up; usually
                I completely forget about my phone and am too distracted to bother turning the ringer back to where it was.
                </p><p>
                    The idea was simple; create an app that would turn my ringer down to silent at a specific time and turn the ringer back up to where it was at another specified time.
                  The idea was basically a reversed alarm, turn the volume down for a specific alotment of time. The app would also require multiple 'RingerWrangler' objects to allow me
                to have multiple windows of time in which the phone is suppressed. I also wanted the app to alert me when the ringer was turned back up, I used the vibrate function of the
                phone to accomplish this.
                </p>
            <div class="smallSpace"></div>
                <h2 style="text-align:center;">Repeating Activities</h2>
                <p>
                   The app needed the ability to change the ringer at any time regardless of my activities on the device, thus the app required the ability to operate its actions in the background
                    without needing user focus. This was accomplished by creating a custom Intent that I pass to the Android system to repeat at specified intervals. This was accomplished with 
                    two custom intent classes; 'AlarmReceiverActivity.class' and 'AlarmOffActivity.class', which are each invoked by an Android 
                    <a href="http://developer.android.com/reference/android/app/AlarmManager.html" target="_blank">AlarmManager</a> object which uses the system
                    service <a href="http://developer.android.com/reference/android/content/Context.html" target="_blank">ALARM_SERVICE</a>. </p>
            <div class="codeBox">
                <pre>
<a name="l179"><span class="ln">179  </span></a> 
<a name="l180"><span class="ln">180  </span></a>        </span><span class="s2">//Create an offset from the current time in which the alarm will go off.</span><span class="s1"> 
<a name="l181"><span class="ln">181  </span></a>        Calendar cal = Calendar.getInstance()</span><span class="s0">;</span><span class="s1"> 
<a name="l182"><span class="ln">182  </span></a>        cal.set(Calendar.HOUR_OF_DAY</span><span class="s0">, </span><span class="s1">startTimeHour)</span><span class="s0">;</span><span class="s1"> 
<a name="l183"><span class="ln">183  </span></a>        cal.set(Calendar.MINUTE</span><span class="s0">, </span><span class="s1">startTimeMinute)</span><span class="s0">;</span><span class="s1"> 
<a name="l184"><span class="ln">184  </span></a>        cal.set(Calendar.SECOND</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
<a name="l185"><span class="ln">185  </span></a> 
<a name="l186"><span class="ln">186  </span></a>        </span><span class="s2">//Create a new PendingIntent and add it to the AlarmManager</span><span class="s1"> 
<a name="l187"><span class="ln">187  </span></a> 
<a name="l188"><span class="ln">188  </span></a>        </span><span class="s2">//get a new alarmID</span><span class="s1"> 
<a name="l189"><span class="ln">189  </span></a>        alarmID++</span><span class="s0">;</span><span class="s1"> 
<a name="l190"><span class="ln">190  </span></a>        </span><span class="s2">//add this ID to the array of managers</span><span class="s1"> 
<a name="l191"><span class="ln">191  </span></a>        startAlarmManagers.add(alarmID)</span><span class="s0">;</span><span class="s1"> 
<a name="l192"><span class="ln">192  </span></a>        </span><span class="s2">//setup a new intent</span><span class="s1"> 
<a name="l193"><span class="ln">193  </span></a>        Intent intent = </span><span class="s0">new </span><span class="s1">Intent(</span><span class="s0">this, </span><span class="s1">AlarmReceiverActivity.</span><span class="s0">class</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
<a name="l194"><span class="ln">194  </span></a>        </span><span class="s2">//setup a new pending intent. with above intent</span><span class="s1"> 
<a name="l195"><span class="ln">195  </span></a>        PendingIntent pendingIntent = PendingIntent.getActivity(</span><span class="s0">this,</span><span class="s1">alarmID</span><span class="s0">, </span><span class="s1">intent</span><span class="s0">, </span><span class="s1">PendingIntent.FLAG_UPDATE_CURRENT)</span><span class="s0">;</span><span class="s1"> 
<a name="l196"><span class="ln">196  </span></a>        </span><span class="s2">//create a new AlarmManager object</span><span class="s1"> 
<a name="l197"><span class="ln">197  </span></a>        AlarmManager am = (AlarmManager)getSystemService(Activity.ALARM_SERVICE)</span><span class="s0">;</span><span class="s1"> 
<a name="l198"><span class="ln">198  </span></a>        </span><span class="s2">//set the managers properties(type, time, what to do)</span><span class="s1"> 
<a name="l199"><span class="ln">199  </span></a>        am.set(AlarmManager.RTC_WAKEUP</span><span class="s0">, </span><span class="s1">cal.getTimeInMillis()</span><span class="s0">, </span><span class="s1">pendingIntent)</span><span class="s0">;</span><span class="s1"> 
<a name="l200"><span class="ln">200  </span></a>        </span><span class="s2">//make it repeating per day.</span><span class="s1"> 
<a name="l201"><span class="ln">201  </span></a>        am.setRepeating(AlarmManager.RTC_WAKEUP</span><span class="s0">, </span><span class="s1">cal.getTimeInMillis()</span><span class="s0">, </span><span class="s1">AlarmManager.INTERVAL_DAY</span><span class="s0">, </span><span class="s1">pendingIntent)</span><span class="s0">;</span><span class="s1"> 
<a name="l202"><span class="ln">202  </span></a> 
<a name="l203"><span class="ln">203  </span></a>        </span><span class="s2">//send another intent to turn ringer back on at END</span><span class="s1"> 
<a name="l204"><span class="ln">204  </span></a>        cal.set(Calendar.HOUR_OF_DAY</span><span class="s0">, </span><span class="s1">endTimeHour)</span><span class="s0">;</span><span class="s1"> 
<a name="l205"><span class="ln">205  </span></a>        cal.set(Calendar.MINUTE</span><span class="s0">, </span><span class="s1">endTimeMinute)</span><span class="s0">;</span><span class="s1"> 
<a name="l206"><span class="ln">206  </span></a>        cal.set(Calendar.SECOND</span><span class="s0">, </span><span class="s3">0</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
<a name="l207"><span class="ln">207  </span></a>        </span><span class="s2">//create new ID</span><span class="s1"> 
<a name="l208"><span class="ln">208  </span></a>        alarmID++</span><span class="s0">;</span><span class="s1"> 
<a name="l209"><span class="ln">209  </span></a>        </span><span class="s2">//add the ID to the array</span><span class="s1"> 
<a name="l210"><span class="ln">210  </span></a>        endAlarmManagers.add(alarmID)</span><span class="s0">;</span><span class="s1"> 
<a name="l211"><span class="ln">211  </span></a>        </span><span class="s2">//create new intent</span><span class="s1"> 
<a name="l212"><span class="ln">212  </span></a>        Intent offIntent = </span><span class="s0">new </span><span class="s1">Intent(</span><span class="s0">this, </span><span class="s1">AlarmOffActivity.</span><span class="s0">class</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
<a name="l213"><span class="ln">213  </span></a>        </span><span class="s2">//create new pending intent with the above intent</span><span class="s1"> 
<a name="l214"><span class="ln">214  </span></a>        PendingIntent offPendingIntent = PendingIntent.getActivity(</span><span class="s0">this,</span><span class="s1">alarmID</span><span class="s0">, </span><span class="s1">offIntent</span><span class="s0">, </span><span class="s1">PendingIntent.FLAG_UPDATE_CURRENT)</span><span class="s0">;</span><span class="s1"> 
<a name="l215"><span class="ln">215  </span></a>        </span><span class="s2">//create new alarm manager object for turning ringer back on</span><span class="s1"> 
<a name="l216"><span class="ln">216  </span></a>        AlarmManager offAlarmManager = (AlarmManager)getSystemService(Activity.ALARM_SERVICE)</span><span class="s0">;</span><span class="s1"> 
<a name="l217"><span class="ln">217  </span></a>        </span><span class="s2">//set the properties</span><span class="s1"> 
<a name="l218"><span class="ln">218  </span></a>        offAlarmManager.set(AlarmManager.RTC_WAKEUP</span><span class="s0">, </span><span class="s1">cal.getTimeInMillis()</span><span class="s0">, </span><span class="s1">offPendingIntent)</span><span class="s0">;</span><span class="s1"> 
<a name="l219"><span class="ln">219  </span></a>        </span><span class="s2">//set it to repeat once per day</span><span class="s1"> 
<a name="l220"><span class="ln">220  </span></a>        offAlarmManager.setRepeating(AlarmManager.RTC_WAKEUP</span><span class="s0">, </span><span class="s1">cal.getTimeInMillis()</span><span class="s0">, </span><span class="s1">AlarmManager.INTERVAL_DAY</span><span class="s0">, </span><span class="s1">offPendingIntent)</span><span class="s0">;</span><span class="s1"> 
<a name="l221"><span class="ln">221  </span></a> 
</pre><div class="caption">Here we see the creation and ordering of repeating events. The AlarmManager will send Broadcasts to my app which are received and handled by the
                custom classes; 'AlarmRecevierActivity.class' and 'AlarmOffActivity.class'</div>
            </div>
                <p>
                    Using the ALARM_SERVICE allows my app to run in the background without user focus. The Android system will fire a Broadcast that can be caught with a 
                    <a href="http://developer.android.com/reference/android/content/BroadcastReceiver.html" target="_blank">BroadcastRecevier</a> object. The classes 'AlarmReceiverActivity.class'
                and 'AlarmOffActivity.class' noth extend the BroadcastRecevier class which allows my app to catch the timed Broadcasts from Android. Once the Broadcast is caught, 
                my app will call these classes and execute the methods of each.</p>
            <div class="codeBox">
                <pre>
<a name="l16"><span class="ln">16   </span></a></span><span class="s0">public class </span><span class="s1">AlarmReceiverActivity </span><span class="s0">extends </span><span class="s1">Activity </span><span class="s0">implements </span><span class="s1">AudioManager.OnAudioFocusChangeListener { 
<a name="l17"><span class="ln">17   </span></a>    @Override 
<a name="l18"><span class="ln">18   </span></a>    </span><span class="s0">public void </span><span class="s1">onCreate(Bundle savedInstanceState) { 
<a name="l19"><span class="ln">19   </span></a>        </span><span class="s3">//open manager object</span><span class="s1"> 
<a name="l20"><span class="ln">20   </span></a>        </span><span class="s0">final </span><span class="s1">AudioManager audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE)</span><span class="s0">;</span><span class="s1"> 
<a name="l21"><span class="ln">21   </span></a>        </span><span class="s3">//save the current state of ringer</span><span class="s1"> 
<a name="l22"><span class="ln">22   </span></a>        </span><span class="s0">super</span><span class="s1">.onCreate(savedInstanceState)</span><span class="s0">;</span><span class="s1"> 
<a name="l23"><span class="ln">23   </span></a>        </span><span class="s3">//get view</span><span class="s1"> 
<a name="l24"><span class="ln">24   </span></a>        setContentView(R.layout.alarm)</span><span class="s0">;</span><span class="s1"> 
<a name="l25"><span class="ln">25   </span></a>        </span><span class="s3">//add a button</span><span class="s1"> 
<a name="l26"><span class="ln">26   </span></a>        Button stopAlarm = (Button) findViewById(R.id.stopAlarm)</span><span class="s0">;</span><span class="s1"> 
<a name="l27"><span class="ln">27   </span></a>        </span><span class="s3">//add a listener to the button</span><span class="s1"> 
<a name="l28"><span class="ln">28   </span></a>        stopAlarm.setOnTouchListener(</span><span class="s0">new </span><span class="s1">View.OnTouchListener() 
<a name="l29"><span class="ln">29   </span></a>        { 
<a name="l30"><span class="ln">30   </span></a>            </span><span class="s0">public boolean </span><span class="s1">onTouch(View arg0</span><span class="s0">, </span><span class="s1">MotionEvent arg1) 
<a name="l31"><span class="ln">31   </span></a>            { 
<a name="l32"><span class="ln">32   </span></a>                </span><span class="s3">//set ringer back to where it was</span><span class="s1"> 
<a name="l33"><span class="ln">33   </span></a>                </span><span class="s3">//audioManager.setRingerMode(oldRingerMode);</span><span class="s1"> 
<a name="l34"><span class="ln">34   </span></a>                audioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT)</span><span class="s0">;</span><span class="s1"> 
<a name="l35"><span class="ln">35   </span></a>                finish()</span><span class="s0">;</span><span class="s1"> 
<a name="l36"><span class="ln">36   </span></a>                </span><span class="s0">return false;</span><span class="s1"> 
<a name="l37"><span class="ln">37   </span></a>            } 
<a name="l38"><span class="ln">38   </span></a>        })</span><span class="s0">;</span><span class="s3">//end listener attach</span><span class="s1"> 
<a name="l39"><span class="ln">39   </span></a>    } 
<a name="l40"><span class="ln">40   </span></a> 
</pre><div class="caption">Here we see the creation of the 'AlarmReceiverActivity.class' object</div>
            </div>
            <div class="smallSpace"></div>
            <div class="codeBox">
                <pre>
<a name="l17"><span class="ln">17   </span></a></span><span class="s0">public class </span><span class="s1">AlarmOffActivity </span><span class="s0">extends </span><span class="s1">Activity </span><span class="s0">implements </span><span class="s1">AudioManager.OnAudioFocusChangeListener 
<a name="l18"><span class="ln">18   </span></a>{ 
<a name="l19"><span class="ln">19   </span></a>        @Override 
<a name="l20"><span class="ln">20   </span></a>        </span><span class="s0">public void </span><span class="s1">onCreate(Bundle savedInstanceState) 
<a name="l21"><span class="ln">21   </span></a>        { 
<a name="l22"><span class="ln">22   </span></a>            Vibrator vibrator = (Vibrator)getSystemService(VIBRATOR_SERVICE)</span><span class="s0">;</span><span class="s1"> 
<a name="l23"><span class="ln">23   </span></a>            vibrator.vibrate(</span><span class="s3">500</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
<a name="l24"><span class="ln">24   </span></a>            </span><span class="s4">//open manager object</span><span class="s1"> 
<a name="l25"><span class="ln">25   </span></a>            </span><span class="s0">final </span><span class="s1">AudioManager audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE)</span><span class="s0">;</span><span class="s1"> 
<a name="l26"><span class="ln">26   </span></a>            </span><span class="s4">//save the current state of ringer</span><span class="s1"> 
<a name="l27"><span class="ln">27   </span></a>            </span><span class="s0">super</span><span class="s1">.onCreate(savedInstanceState)</span><span class="s0">;</span><span class="s1"> 
<a name="l28"><span class="ln">28   </span></a>            </span><span class="s4">//get view</span><span class="s1"> 
<a name="l29"><span class="ln">29   </span></a>            setContentView(R.layout.alarm_off)</span><span class="s0">;</span><span class="s1"> 
<a name="l30"><span class="ln">30   </span></a>            </span><span class="s4">//add a button</span><span class="s1"> 
<a name="l31"><span class="ln">31   </span></a>            Button stopAlarm = (Button) findViewById(R.id.alarm_off_button)</span><span class="s0">;</span><span class="s1"> 
<a name="l32"><span class="ln">32   </span></a>            </span><span class="s4">//add a listener to the button</span><span class="s1"> 
<a name="l33"><span class="ln">33   </span></a>            stopAlarm.setOnTouchListener(</span><span class="s0">new </span><span class="s1">View.OnTouchListener() 
<a name="l34"><span class="ln">34   </span></a>            { 
<a name="l35"><span class="ln">35   </span></a>                </span><span class="s0">public boolean </span><span class="s1">onTouch(View arg0</span><span class="s0">, </span><span class="s1">MotionEvent arg1) 
<a name="l36"><span class="ln">36   </span></a>                { 
<a name="l37"><span class="ln">37   </span></a>                    </span><span class="s4">//set ringer back to where it was</span><span class="s1"> 
<a name="l38"><span class="ln">38   </span></a>                    audioManager.adjustVolume(AudioManager.ADJUST_RAISE</span><span class="s0">, </span><span class="s3">12</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
<a name="l39"><span class="ln">39   </span></a>                    finish()</span><span class="s0">;</span><span class="s1"> 
<a name="l40"><span class="ln">40   </span></a>                    </span><span class="s0">return false;</span><span class="s1"> 
<a name="l41"><span class="ln">41   </span></a>                } 
<a name="l42"><span class="ln">42   </span></a>            })</span><span class="s0">;</span><span class="s4">//end listener attach</span><span class="s1"> 
<a name="l43"><span class="ln">43   </span></a> 
</pre><div class="caption">Here we see the creation of the 'AlarmOffActivity.class' object.</div>
            </div><div class="smallSpace"></div>
                <h2 style="text-align:center;">Handle Reboot</h2>
                <p>
                    I needed the app to restart itself in the case of the phone being shutdown/restarted. This was accomplished with requesting permission to receive the 
                    <a href="http://developer.android.com/reference/android/content/Intent.html#ACTION_BOOT_COMPLETED" target="_blank">ACTION_BOOT_COMPLETED</a> 
                Intent that the system fires when it boots. My app has a custom class to handle this event; 'AlarmRestarter.class' handles the events in which the phone is restarted. The
                class receives the Intent and checks that it is infact the boot completed intent that was broadcast. The class then calls MainActivity.init() which ensures our Array of RingerTime
                objects is initialized with timer, the class then 'restarts' these timers.</p>
            <div class="codeBox">
                <pre>
<a name="l14"><span class="ln">14   </span></a></span><span class="s0">public class </span><span class="s1">AlarmRestarter </span><span class="s0">extends </span><span class="s1">BroadcastReceiver { 
<a name="l15"><span class="ln">15   </span></a> 
<a name="l16"><span class="ln">16   </span></a> 
<a name="l17"><span class="ln">17   </span></a>    @Override 
<a name="l18"><span class="ln">18   </span></a>    </span><span class="s0">public void </span><span class="s1">onReceive(Context context</span><span class="s0">, </span><span class="s1">Intent intent) { 
<a name="l19"><span class="ln">19   </span></a>        </span><span class="s0">if </span><span class="s1">(intent.getAction().equals(</span><span class="s3">&quot;android.intent.action.BOOT_COMPLETED&quot;</span><span class="s1">)) { 
<a name="l20"><span class="ln">20   </span></a> 
<a name="l21"><span class="ln">21   </span></a>            MainActivity.init()</span><span class="s0">;</span><span class="s1"> 
<a name="l22"><span class="ln">22   </span></a> 
<a name="l23"><span class="ln">23   </span></a>            </span><span class="s0">for</span><span class="s1">(</span><span class="s0">int </span><span class="s1">i=</span><span class="s4">0</span><span class="s0">; </span><span class="s1">i &lt; MainActivity.wranglers.size()</span><span class="s0">; </span><span class="s1">i++) 
<a name="l24"><span class="ln">24   </span></a>            { 
<a name="l25"><span class="ln">25   </span></a>                </span><span class="s5">//get the information from the RingerTime objects</span><span class="s1"> 
<a name="l26"><span class="ln">26   </span></a>                </span><span class="s0">int </span><span class="s1">startHour = MainActivity.wranglers.get(i).getStartHour()</span><span class="s0">;</span><span class="s1"> 
<a name="l27"><span class="ln">27   </span></a>                </span><span class="s0">int </span><span class="s1">startMin = MainActivity.wranglers.get(i).getStartMinute()</span><span class="s0">;</span><span class="s1"> 
<a name="l28"><span class="ln">28   </span></a>                </span><span class="s0">int </span><span class="s1">endHour = MainActivity.wranglers.get(i).getEndHour()</span><span class="s0">;</span><span class="s1"> 
<a name="l29"><span class="ln">29   </span></a>                </span><span class="s0">int </span><span class="s1">endMin = MainActivity.wranglers.get(i).getEndMinute()</span><span class="s0">;</span><span class="s1"> 
<a name="l30"><span class="ln">30   </span></a>                </span><span class="s5">//get the alarmID from array</span><span class="s1"> 
<a name="l31"><span class="ln">31   </span></a>                </span><span class="s0">int </span><span class="s1">startAlarmId = MainActivity.startAlarmManagers.get(i)</span><span class="s0">;</span><span class="s1"> 
<a name="l32"><span class="ln">32   </span></a>                </span><span class="s0">int </span><span class="s1">endAlarmId = MainActivity.endAlarmManagers.get(i)</span><span class="s0">;</span><span class="s1"> 
<a name="l33"><span class="ln">33   </span></a>                </span><span class="s5">//setup the calendar for restarting the alarm</span><span class="s1"> 
<a name="l34"><span class="ln">34   </span></a>                Calendar cal = Calendar.getInstance()</span><span class="s0">;</span><span class="s1"> 
<a name="l35"><span class="ln">35   </span></a>                cal.set(Calendar.HOUR_OF_DAY</span><span class="s0">, </span><span class="s1">startHour)</span><span class="s0">;</span><span class="s1"> 
<a name="l36"><span class="ln">36   </span></a>                cal.set(Calendar.MINUTE</span><span class="s0">, </span><span class="s1">startMin)</span><span class="s0">;</span><span class="s1"> 
<a name="l37"><span class="ln">37   </span></a>                cal.set(Calendar.SECOND</span><span class="s0">, </span><span class="s4">00</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
<a name="l38"><span class="ln">38   </span></a>                </span><span class="s5">//restart the intents</span><span class="s1"> 
<a name="l39"><span class="ln">39   </span></a>                context = context.getApplicationContext()</span><span class="s0">;</span><span class="s1"> 
<a name="l40"><span class="ln">40   </span></a>                Intent startIntent = </span><span class="s0">new </span><span class="s1">Intent(context</span><span class="s0">, </span><span class="s1">AlarmReceiverActivity.</span><span class="s0">class</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
<a name="l41"><span class="ln">41   </span></a>                PendingIntent pendingIntent = PendingIntent.getActivity(context</span><span class="s0">,</span><span class="s1">startAlarmId</span><span class="s0">, </span><span class="s1">startIntent</span><span class="s0">, </span><span class="s1">PendingIntent.FLAG_UPDATE_CURRENT)</span><span class="s0">;</span><span class="s1"> 
<a name="l42"><span class="ln">42   </span></a>                </span><span class="s5">//create a new AlarmManager object</span><span class="s1"> 
<a name="l43"><span class="ln">43   </span></a>                AlarmManager am = (AlarmManager)context.getSystemService(Activity.ALARM_SERVICE)</span><span class="s0">;</span><span class="s1"> 
<a name="l44"><span class="ln">44   </span></a>                </span><span class="s5">//set the managers properties(type, time, what to do)</span><span class="s1"> 
<a name="l45"><span class="ln">45   </span></a>                am.set(AlarmManager.RTC_WAKEUP</span><span class="s0">, </span><span class="s1">cal.getTimeInMillis()</span><span class="s0">, </span><span class="s1">pendingIntent)</span><span class="s0">;</span><span class="s1"> 
<a name="l46"><span class="ln">46   </span></a>                </span><span class="s5">//make it repeating per day.</span><span class="s1"> 
<a name="l47"><span class="ln">47   </span></a>                am.setRepeating(AlarmManager.RTC_WAKEUP</span><span class="s0">, </span><span class="s1">cal.getTimeInMillis()</span><span class="s0">, </span><span class="s1">AlarmManager.INTERVAL_DAY</span><span class="s0">, </span><span class="s1">pendingIntent)</span><span class="s0">;</span><span class="s1"> 
<a name="l48"><span class="ln">48   </span></a>                </span><span class="s5">//setup calendar for ending intents</span><span class="s1"> 
<a name="l49"><span class="ln">49   </span></a>                cal.set(Calendar.HOUR_OF_DAY</span><span class="s0">, </span><span class="s1">endHour)</span><span class="s0">;</span><span class="s1"> 
<a name="l50"><span class="ln">50   </span></a>                cal.set(Calendar.MINUTE</span><span class="s0">, </span><span class="s1">endMin)</span><span class="s0">;</span><span class="s1"> 
<a name="l51"><span class="ln">51   </span></a>                cal.set(Calendar.SECOND</span><span class="s0">, </span><span class="s4">00</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
<a name="l52"><span class="ln">52   </span></a>                </span><span class="s5">//restart the ending intents</span><span class="s1"> 
<a name="l53"><span class="ln">53   </span></a>                Intent endIntent = </span><span class="s0">new </span><span class="s1">Intent(context</span><span class="s0">, </span><span class="s1">AlarmOffActivity.</span><span class="s0">class</span><span class="s1">)</span><span class="s0">;</span><span class="s1"> 
<a name="l54"><span class="ln">54   </span></a>                PendingIntent offpendingIntent = PendingIntent.getActivity(context</span><span class="s0">, </span><span class="s1">endAlarmId</span><span class="s0">, </span><span class="s1">endIntent</span><span class="s0">, </span><span class="s1">PendingIntent.FLAG_UPDATE_CURRENT)</span><span class="s0">;</span><span class="s1"> 
<a name="l55"><span class="ln">55   </span></a>                AlarmManager offAm = (AlarmManager)context.getSystemService(Activity.ALARM_SERVICE)</span><span class="s0">;</span><span class="s1"> 
<a name="l56"><span class="ln">56   </span></a>                offAm.set(AlarmManager.RTC_WAKEUP</span><span class="s0">, </span><span class="s1">cal.getTimeInMillis()</span><span class="s0">, </span><span class="s1">offpendingIntent)</span><span class="s0">;</span><span class="s1"> 
<a name="l57"><span class="ln">57   </span></a>                offAm.setRepeating(AlarmManager.RTC_WAKEUP</span><span class="s0">, </span><span class="s1">cal.getTimeInMillis()</span><span class="s0">, </span><span class="s1">AlarmManager.INTERVAL_DAY</span><span class="s0">, </span><span class="s1">offpendingIntent)</span><span class="s0">;</span><span class="s1"> 
<a name="l58"><span class="ln">58   </span></a>            } 
<a name="l59"><span class="ln">59   </span></a> 
<a name="l60"><span class="ln">60   </span></a>        }</span><span class="s5">//end if</span><span class="s1"> 
<a name="l61"><span class="ln">61   </span></a>    }</span><span class="s5">//end onReceive</span><span class="s1"> 
<a name="l62"><span class="ln">62   </span></a>}</span><span class="s5">//end AlarmRestarter</span><span class="s1"> 
<a name="l63"><span class="ln">63   </span></a></span>
</pre><div class="caption">Here we see the 'AlarmRestarter.class' object.</div>
            </div><div class="smallSpace"></div>
            <h2>Conclusion</h2>
            <p>The RingerWrangler app was a good experience learning how Intents and BroadcastReceivers work. Having learned them gives me the ability to incorporate timed
                background events for apps, which would be able to run after the user navigates away from the app. I was also introduced to the system calls by working with the restart
                procedure; this allows me to enable my apps to automatically start thier services upon a boot/reboot situation. The app does have empty ImageViews that allow for click
                events in the event that I wanted to add ads into the app, which is not an intention as of yet but I left myself that option. In any case, I now have a convient app that will handle
                turning my device's ringer up and down for me based on when I need it to, no more missed calls!</p>
            <p style="text-align:center;">
            <a href="https://github.com/dusanders/dusanders.github.io/tree/master/ANDROID/Source/Ringer/AlarmOffActivity.java" target="_blank">Download AlarmOffActivity.java</a>
            </p>
            <p style="text-align:center;">
                <a href="https://github.com/dusanders/dusanders.github.io/tree/master/ANDROID/Source/Ringer/AlarmReceiverActivity.java" target="_blank">Download AlarmReceiverActivity.java</a>
            </p>
            <p style="text-align:center;">
                <a href="https://github.com/dusanders/dusanders.github.io/tree/master/ANDROID/Source/Ringer/AlarmRestarter.java" target="_blank">Download AlarmRestarter.java</a>
            </p>
            <p style="text-align:center;">
                <a href="https://github.com/dusanders/dusanders.github.io/tree/master/ANDROID/Source/Ringer/MainActivity.java" target="_blank">Download MainActivity.java</a>
            </p>
            <p style="text-align:center;">
                <a href="https://github.com/dusanders/dusanders.github.io/tree/master/ANDROID/Source/Ringer/RingerTime.java" target="_blank">Download RingerTime.java</a>
            </p>
            <p style="text-align:center;">
                <a href="https://github.com/dusanders/dusanders.github.io/tree/master/ANDROID/Source/Ringer/" target="_blank">View Source Files Folder</a>
            </p>
                <div id="footer">
                    <div id="copyright">
                        <p>Copyright &copy; 2015 Dustin Anderson</p>
                    </div>
                    <div id="aboutButton">
                        <p><a href="../index.html">About</a></p>
                    </div>
                </div>
        </div><!--end content-div-->
        <div id="sideBar">
            <ul id="sideBarList">
                <p style="text-align:center; text-decoration:underline;">Projects</p>
                <li class="sideBarItem" id="RingerWrangler" style="color: #006600; cursor:default;">Ringer Wrangler</li>
                <li class="sideBarItem" id="DashCam"><a href="AndroidDashCam.html">Dash Cam</a></li>
                <li class="sideBarItem" id="BluetoothRc"><a href="AndroidBTLERC.html">BTLE RC Car</a></li>
                <li class="sideBarItem" id="BluetoothShare"><a href="AndroidSensorApp.html">Sensor App</a></li>
            </ul>
        </div>
        <div id="menuBar">
            <ul id="menuList">
                <li class="menuItem"><a href="../CPP/CPP.html">C++</a></li>
                <li class="menuItem"><a href="../CSHARP/CSharp.html">C#</a></li>
                <li class="menuItem"><a href="../JAVA/Java.html">Java</a></li>
                <li class="menuItem"><a href="../ASM/ASM.html">Embedded Systems</a></li>
                <li class="menuItem" style="color: #80CC80;">Android</li>
            </ul>
        </div>
    </div><!--end container-->
</body>

</html>